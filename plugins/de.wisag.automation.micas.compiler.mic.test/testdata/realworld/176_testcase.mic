  ;*****************************************************************
  ;*** Projekt Beginn
  ;*** Dateiname      : 0009-06A.GPS
  ;*** Projektname    : 
  ;*** Projektnummer  : 
  ;*** Bearbeiter     : 
  ;*** Prüfer         : 
  ;*** Line Nummer    : 0
  ;*** User Number    : 9
  ;*** Modul Typ      : ar20
  ;*** Feldbus Nummer : 6
  ;*****************************************************************
  MODUL (@TYPE@, @FILEDBUS@)
  WordK  K_1_STATUS (1)
  WordV  S_ERR
  FloatV Z_LU_FU
  WordV  E_ST_FROST
  FloatV E_X_ZL_T
  WordV  A_ST_KL
  FloatV E_W_ZL_T
  FloatK K_VP_VE_PU_OG (10.00)
  WordV  A_BF_LU
  WordV  E_RM_KL_AUF
  FloatV D_Y_LU_REG
  WordV  E_ST_LU_REPS
  FloatV E_X_LU_P
  FloatK K_W_ZL_T (22.00)
  WordK  K_0_STATUS (0)
  WordV  E_BM_QUITT
  WordV  E_ST_LU_OPM
  FloatK K_VP_VE_PU_UG (8.00)
  WordV  A_BF_VE_PU
  WordV  Z_HAUPT
  WordV  E_VP_RM_AL
  FloatK K_W_LU_P (220.00)
  WordV  R_VE_SPERR
  WordV  R_QUITT_AUS
  WordV  R_ST_WR_REPS
  WordV  Z_QUITT
  WordV  R_VE_WA_VE_0
  WordV  E_ST_VE_PU
  WordV  E_VP_ST_AL
  WordK  K_VP_FREIG (1)
  FloatV Z_VE_RL_MIN_R
  WordV  Z_LU_ST
  FloatV Z_VE_HEIZEN
  WordV  A_HAUPT_ST
  WordV  Z_WR_HZ
  WordV  E_ST_WR
  WordV  E_ST_ENTRAUCH
  FloatV E_MW_AU_TEMP
  WordV  A_RM_BSK
  WordV  R_WR_WA_VE_0
  WordV  R_WR_WA_VE_100
  WordV  E_VP_FREIG
  WordV  E_ST_BMZ
  FloatV R_Y_KUEHLEN
  FloatV A_AS_LU_FU
  FloatV Z_WR_HEIZEN
  FloatV E_MW_WR_VE
  FloatV A_AS_WR_VE
  FloatK K_100_WERT (100.00)
  WordV  E_ST_FU
  WordV  A_ST_VE_VE
  WordV  A_ST_WR_VE
  WordV  A_ST_VE_ENERG
  WordV  A_ST_SAM_ST
  WordV  E_ST_LU_KL
  WordV  R_ST_LU_BI
  WordV  R_ST_LU_DRUCK
  WordV  R_ST_LU_STROEM
  FloatV E_W_LU_P
  WordV  E_RM_LU_EIN
  FloatV R_FU_Q_REG
  WordV  R_ANFAHR
  FloatV D_Y_REG_T
  FloatV Z_Y_HEIZEN
  FloatV E_MW_AUL_T
  FloatV E_MW_WRG_VL_T
  FloatV E_X_VE_RL_T
  FloatV E_W_VE_RL_T
  FloatV R_VP_VE_RL
  WordV  R_VE_WA_VE_100
  FloatV A_AS_VE_VE
  FloatV E_MW_VE_VE
  FloatV E_VP_VE_PU_OG
  FloatV E_VP_VE_PU_UG
  WordV  Z_VE_ZWANGS
  WordV  Z_VE_ANF_PU
  WordV  E_RM_VE_PU_EIN
  WordV  Z_VE_WA_PU
  FloatV D_ZEIT_VE_PU_A
  WordV  E_ST_BSK
  WordV  E_ST_RM
  WordV  R_WR_KU
  FloatV R_WR_KUEHLEN
  WordV  Alle-RM-ausgel
  WordV  $HB0
  WordK  $WONE (1)
  WordK  $WZERO (0)
  IPAMB &M0 (203,1)
  IPAAW &M1 (207)
  IPAAW &M2 (209)
  IPAAW &M3 (204)
  IPAAW &M4 (205)
  IPAMB &M5 (203,3)
  IPAMB &M6 (211,2)
  IPAMB &M7 (211,3)
  IPAMB &M8 (57,2)
  WordV  $B1
  IPAMB &M9 (151,6)
  WordV  $B2
  IPAMB &M10 (151,10)
  WordV  $B3
  IPAMB &M11 (147,10)
  WordV  $B4
  IPAMB &M12 (143,3)
  WordV  $B5
  IPAMB &M13 (255,0)
  IPAMB &M14 (144,11)
  WordV  $B6
  IPAMB &M15 (43,2)
  WordV  $B7
  IPAMB &M16 (43,3)
  IPAMB &M17 (145,10)
  WordV  $B8
  IPAMB &M18 (42,6)
  WordV  $B9
  IPAMB &M19 (144,14)
  WordV  $B10
  IPAMB &M20 (144,15)
  WordV  $B11
  IPAMB &M21 (42,7)
  IPAMB &M22 (42,3)
  IPAAW &M27 (47)
  IPAAW &M28 (46)
  IPAAW &M29 (45)
  IPAAW &M30 (44)
  IPAAW &M31 (30)
  IPAAW &M32 (48)
  IPAAW &M33 (49)
  IPAAW &M34 (248)
  FloatK $M35 (8.00)
  WordV  $B12
  FloatK $M36 (8.00)
  WordV  $B13
  FloatK $M37 (8.00)
  WordV  $B14
  FloatK $M38 (8.00)
  WordV  $B15
  WordV  $B16
  WordV  $WSCRATCH
  FloatK $M39 (4.00)
  FloatK $M40 (4.00)
  FloatK $M41 (0.00)
  WordV  $B17
  FloatK $M42 (4.00)
  WordV  $B18
  FloatK $M43 (12.00)
  FloatK $M44 (0.00)
  WordV  $B19
  WordV  $B20
  WordV  $B21
  FloatK $M45 (10.00)
  FloatK $M46 (0.00)
  WordV  $B22
  WordV  $B23
  WordV  $B24
  IPAMB &M47 (143,6)
  WordV  $HB2
  WordV  $B25
  IPAMB &M48 (143,7)
  WordV  $B26
  WordV  $B27
  WordV  $B28
  WordV  $B29
  FloatK $M49 (0.00)
  FloatK $M50 (8.00)
  IPAMB &M51 (142,2)
  WordV  $B30
  IPAMB &M52 (142,3)
  WordV  $B31
  IPAMB &M53 (142,6)
  WordV  $B32
  IPAMB &M54 (142,7)
  WordV  $B33
  IPAMB &M55 (143,2)
  WordV  $B34
  WordV  $B35
  WordV  $B36
  FloatK $M57 (180.00)
  FloatK $M58 (0.00)
  WordV  $B37
  WordV  $B38
  FloatK $M59 (180.00)
  FloatK $M60 (0.00)
  WordV  $B39
  WordV  $B40
  WordV  $B41
  FloatK $M61 (0.00)
  FloatK $M62 (60.00)
  FloatV $F1
  WordV  $B42
  WordV  $B43
  FloatK $M63 (10.00)
  FloatK $M64 (0.00)
  WordV  $B44
  WordV  $B45
  FloatK $M65 (100.00)
  FloatK $M66 (35.00)
  FloatV $F2
  FloatK $M67 (0.00)
  FloatV $F3
  FloatK $M68 (800.00)
  WordV  $B46
  FloatK $M69 (0.00)
  FloatK $M70 (30.00)
  WordV  $B47
  FloatK $M71 (35.00)
  WordV  $HB3
  FloatK $M72 (50.00)
  FloatK $M73 (48.00)
  FloatK $M74 (4.00)
  FloatK $M75 (0.00)
  FloatV $F4
  FloatV $F5
  FloatK $M76 (2.00)
  WordV  $B48
  FloatK $M77 (2.00)
  WordV  $B49
  WordV  $B50
  WordV  $B51
  FloatK $M78 (0.00)
  FloatK $M79 (0.00)
  FloatK $M80 (48.00)
  FloatK $M81 (100.00)
  FloatV $F6
  FloatK $M82 (0.00)
  FloatK $M83 (52.00)
  FloatK $M84 (0.00)
  FloatK $M85 (100.00)
  FloatK $M86 (100.00)
  FloatV $F7
  FloatV $F8
  FloatV $F9
  WordV  $B52
  FloatK $M87 (0.00)
  FloatV $F10
  FloatK $M88 (100.00)
  FloatV $F11
  FloatV $F12
  FloatK $M89 (10.00)
  WordV  $B53
  WordV  $B54
  WordV  $HB1
  FloatV $F13
  FloatK $M90 (180.00)
  WordV  $B55
  FloatK $M91 (20.00)
  FloatK $M92 (15.00)
  FloatV $F14
  FloatK $M93 (1.00)
  WordV  $B56
  FloatK $M94 (0.00)
  WordK  $M95 (2)
  FloatK $M96 (10.00)
  FloatK $M97 (40.00)
  FloatK $M98 (80.00)
  FloatK $M99 (0.00)
  FloatK $M100 (10.00)
  FloatK $M101 (20.00)
  FloatK $M102 (0.00)
  FloatK $M103 (0.00)
  FloatK $M104 (100.00)
  WordV  $B57
  WordV  $B58
  FloatK $M105 (0.00)
  FloatV $F15
  FloatK $M106 (120.00)
  WordV  $B59
  FloatK $M107 (900.00)
  WordV  $B60
  WordV  $B61
  FloatK $M108 (100.00)
  FloatV $F16
  FloatV $F17
  FloatV $F18
  FloatK $M109 (10.00)
  WordV  $B62
  WordV  $B63
  FloatV $F19
  FloatK $M110 (180.00)
  WordV  $B64
  FloatK $M111 (10.00)
  FloatK $M112 (6.00)
  FloatV $F20
  FloatK $M113 (0.25)
  FloatK $M114 (0.25)
  WordV  $B65
  FloatK $M115 (8.00)
  FloatK $M116 (4.00)
  FloatV $F21
  FloatK $M117 (0.25)
  FloatK $M118 (0.25)
  WordV  $B66
  FloatK $M119 (5.00)
  FloatK $M120 (2.00)
  WordV  $B67
  FloatK $M121 (0.00)
  FloatK $M122 (300.00)
  WordV  $B68
  FloatK $M123 (172800.00)
  WordV  $B69
  FloatK $M124 (300.00)
  WordV  $B70
  WordV  $B71
  WordV  $B72
  FloatK $M125 (20.00)
  WordV  $B73
  FloatK $M126 (30.00)
  WordV  $B74
  FloatK $M127 (3.00)
  WordV  $B75
  WordV  $B76
  WordV  $B77
  FloatV $F22
  FloatK $M128 (3600.00)
  WordV  $B78
  IPAMB &M129 (203,2)
  IPAMB &M130 (203,0)
  IPAMB &M131 (203,8)
  IPAMB &M132 (203,10)
  IPAMB &M133 (203,9)
  IPAMB &M134 (203,11)
  IPAMB &M136 (42,1)
  IPAMB &M137 (42,5)
  IPAMB &M138 (43,1)
  IPAMB &M139 (151,9)
  IPAAW &M140 (52)
  IPAAW &M141 (53)
  IPAAW &M142 (54)
  ;*****************************************************************
  ;*** Seite   1
  ;*****************************************************************
  TASK (1,init)
  ;KUNDE:
  ;------------------------
  ;ABB Gebäudetechnik AG
  ;Lufttechnik
  ;Hannover
  ; 
  ;ANLAGEN-INDEX:
  ;------------------------
  ;Anlage 3 Nebenräume
  ; 
  ;PROJEKT:
  ;------------------------
  ;Max- Planck- Institut
  ;für bio- physikalische
  ;chemie Göttingen
  ;Neubau NMR 2
  ; 
  ;*****************************************************************
  ;*** Seite   2
  ;*****************************************************************
  ;MS TEPLAN
  ;Weidrichstraße 29
  ;65795 Hattersheim
  ;email:
  ;ms-teplan@t-online.de
  ;www.ms-teplan.de
  ;tel. 06145/938603
  ;fax  06145/938604
  ; 
  ;Diese Steuerungs- und
  ;Regelungs- Software
  ;wurde von der Firma
  ;MS-TEPLAN erstellt.
  ;Das Programm darf nur
  ;mit ausdrücklicher
  ;Genehmigung von
  ;MS-TEPLAN oder von
  ;ABB Gebäudeautomation
  ;geändert oder kopiert
  ;werden.
  ; 
  ;Programmierumgebung:
  ;- EEPROM Version > 5.0
  ;- Compileroption:
  ;  -OD-V5
  ;- MIC.EXE Version:
  ;  07.09.99
  ;- Zielhardware:
  ;  ar20 / sp20 / zp20
  ; 
  ;Druckereinstellung:
  ;Laserjet-150-Portrait
  ;Raster= Aus
  ; 
  ;*****************************************************************
  ;*** Seite   3
  ;*****************************************************************
  ;PROGRAMMSTRUKTUR:
  ;-----------------------
  ;Task 1= Initialisierung
  ;Task 2= Daten Einlesen
  ;Task 3= Steuerung und
  ;        Regelung
  ;Task 4= Daten ausgeben
  ;
  ; 
  ;BLATT-BENNUNG
  ;------------------------
  ;1. Anlagenindex
  ;2. Anlagenkomponente
  ;3. Funktion oder
  ;   Tranfer
  ;Beispiel
  ;1 VE MELEIN
  ;oder
  ;2 LU 1F
  ; 
  ;ANLAGENKOMPONENTE
  ;( Dies ist nur ein
  ;Auszug; siehe Standard)
  ;------------------------
  ;- VE = Vorerhitzer
  ;- KU = Kühler
  ;- WR = WRG
  ;- BE = Befeuchter
  ;- LU = Lüfter
  ;- KL = Klappen
  ;usw.
  ; 
  ;ANLAGENFUNKTION
  ;( Dies ist nur ein
  ;Auszug; siehe Standard)
  ;------------------------
  ;- 1F = einstufig
  ;- FU = Frequenzumf.
  ;- WA = Wartung
  ;- VE = Ventil
  ;- PU = Pumpe
  ;- BE = Bedarf
  ;usw.
  ; 
  ;*****************************************************************
  ;*** Seite   4
  ;*****************************************************************
  ;VARIABLENLEGENDE:
  ;-----------------------
  ;1_ = Anlagenindex
  ;_Z_= Zwischenvariable
  ;_E_= Eingabevariable
  ;_A_= Ausgabevariable
  ;_K_= Konstante
  ;_D_= Displayvariable
  ;_S_= Systemvariable
  ;_R_= Reservarariable
  ; 
  ;_VP_ = Virtueller Var.
  ;_BM_ = Betriebs Var.
  ;_ST_ = Störungs Var.
  ;_RM_ = Rückmeld. Var.
  ;_MW_ = Meßwert Var.
  ;_AS_ = Stellsignal Var.
  ;_X_  = Istwert Regel.
  ;_W_  = Sollwert Regel.
  ;_Y_  = Stellwert Regel.
  ;_BF_ = Befehl Var.
  ; 
  ;_SK_  =Sollkennlinie
  ;_ER_  =Fehlerkorb
  ;_PK_  =Papierkorb
  ; 
  ;
  ; 
  ;*****************************************************************
  ;*** Seite   5
  ;*****************************************************************
  ;NMRLU20-03A-X50
  ;_
  ; 
  NICHT (K_VP_FREIG,$HB0)
  BEFAUS (1,$HB0,K_VP_FREIG,$WZERO,$WZERO,&M0,S_ERR)
  ;Freigabe
  ; 
  ;*****************************************************************
  ;*** Seite   6
  ;*****************************************************************
  ;NMRLU20-03A-P50
  ; 
  ANAUS (K_W_LU_P,K_1_STATUS,&M1,S_ERR)
  ;Sollwert
  ;Zuluftdruck
  ; 
  ;NMRLU20-03A-T51
  ; 
  ANAUS (K_W_ZL_T,K_1_STATUS,&M2,S_ERR)
  ;Sollwert
  ;Zulufttemperatur
  ; 
  ;NMRLU20-03A-V53
  ; 
  ANAUS (K_VP_VE_PU_UG,K_1_STATUS,&M3,S_ERR)
  ;Vorerhitzer Pumpe
  ;Zwangs Ein
  ; 
  ;NMRLU20-03A-V54
  ; 
  ANAUS (K_VP_VE_PU_OG,K_1_STATUS,&M4,S_ERR)
  ;Vorerhitzer Pumpe
  ;Zwangs Aus
  ; 
  ;*****************************************************************
  ;*** Seite   7
  ;*****************************************************************
  ENDE 
  TASK (2,cycl,1500)
  ;Einlesen der
  ;Prozeßdaten
  ;Digitale Werte
  ;Analoge Werte
  ;Reihenfolge:
  ;1. Melein
  ;2. Anein
  ;3. Sollkennlinie
  ; 
  ;*****************************************************************
  ;*** Seite   8
  ;*****************************************************************
  ;Rückmeldung Ein
  ;Freigabe
  ; 
  ;NMRLU20-03A-X50
  ; 
  MELEIN (&M5,1,K_VP_FREIG,S_ERR)
  BTRA (K_VP_FREIG,E_VP_FREIG)
  ;Störung
  ;Abluftanlage
  ; 
  MELEIN (&M6,1,E_VP_ST_AL,S_ERR)
  ;NMRLU20-04A-A50
  ; 
  ;Meldung Ein
  ;Abluftanlage
  ; 
  MELEIN (&M7,1,E_VP_RM_AL,S_ERR)
  ;NMRLU20-04A-X50
  ; 
  ;Störung
  ;WRG-Pumpe
  ; 
  NICHT ($B1,E_ST_WR)
  MELEIN (&M8,1,$B1,S_ERR)
  ;NMRLU20-04A-X03
  ; 
  ;*****************************************************************
  ;*** Seite   9
  ;*****************************************************************
  ;Störung
  ;Auslösung BMZ
  ; 
  NICHT ($B2,E_ST_BMZ)
  MELEIN (&M9,1,$B2,S_ERR)
  ;Störung
  ;Auslösung BSK
  ; 
  NICHT ($B3,E_ST_BSK)
  MELEIN (&M10,1,$B3,S_ERR)
  ;NMRBM20-03A-A03
  ; 
  ;Störung
  ;Entrauchung Aktiv
  ; 
  NICHT ($B4,E_ST_ENTRAUCH)
  MELEIN (&M11,1,$B4,S_ERR)
  ;NMRBM20-02A-A10
  ; 
  ;Störung
  ;Rauchmelder
  ;Zuluft
  ; 
  NICHT ($B5,E_ST_RM)
  MELEIN (&M12,1,$B5,S_ERR)
  ;NMRLU20-03A-A10
  ;Z
  ; 
  ;NMRBM20-01A-A01
  ; 
  ;Meldung
  ;Quittierung
  ;Highbus
  ; 
  MELEIN (&M13,1,E_BM_QUITT,S_ERR)
  ;NMRAS10-00A-B00
  ;H
  ; 
  ;*****************************************************************
  ;*** Seite  10
  ;*****************************************************************
  ;Störung
  ;Vorerhitzerpumpe
  ; 
  NICHT ($B7,E_ST_VE_PU)
  ;Störung
  ;Frostschutz
  ; 
  NICHT ($B6,E_ST_FROST)
  MELEIN (&M14,1,$B6,S_ERR)
  MELEIN (&M15,1,$B7,S_ERR)
  ;Rückmeldung Ein
  ;Vorerhitzerpumpe
  ; 
  MELEIN (&M16,1,E_RM_VE_PU_EIN,S_ERR)
  ;NMRLU20-03A-X06
  ; 
  ;NMRLU20-03A-X06
  ; 
  ;NMRLU20-03A-S10
  ; 
  ;*****************************************************************
  ;*** Seite  11
  ;*****************************************************************
  ;Störung
  ;Frequenzumformer
  ; 
  NICHT ($B8,E_ST_FU)
  MELEIN (&M17,1,$B8,S_ERR)
  ;Störung
  ;Lüfter Motor
  ; 
  NICHT ($B9,E_ST_LU_KL)
  MELEIN (&M18,1,$B9,S_ERR)
  ;NMRLU20-03A-X01
  ; 
  ;Störung
  ;Lüfter
  ;Keilriemen
  ; 
  NICHT ($B10,E_ST_LU_OPM)
  MELEIN (&M19,1,$B10,S_ERR)
  ;Störung
  ;Lüfter
  ;Reparaturschalter
  ; 
  NICHT ($B11,E_ST_LU_REPS)
  MELEIN (&M20,1,$B11,S_ERR)
  ;NMRLU20-03A-W01
  ; 
  ;NMRLU20-03A-S01
  ; 
  ;Rückmeldung Ein
  ;Zuluftventilator
  ; 
  MELEIN (&M21,1,E_RM_LU_EIN,S_ERR)
  ;NMRLU20-03A-X01
  ; 
  ;NMRLU20-03A-S11
  ; 
  ;Rückmeldung Ein
  ;Aussenluftklappe
  ; 
  MELEIN (&M22,1,E_RM_KL_AUF,S_ERR)
  ;NMRLU20-03A-X11
  ; 
  ;*****************************************************************
  ;*** Seite  12
  ;*****************************************************************
  ANEIN (&M1,K_W_LU_P,S_ERR)
  ATRA (K_W_LU_P,E_W_LU_P)
  ;NMRLU20-03A-P50
  ; 
  ;Sollwert
  ;Zuluftdruck
  ; 
  ANEIN (&M2,K_W_ZL_T,S_ERR)
  ATRA (K_W_ZL_T,E_W_ZL_T)
  ;NMRLU20-03A-T51
  ; 
  ;Sollwert
  ;Zulufttemperatur
  ; 
  ANEIN (&M3,K_VP_VE_PU_UG,S_ERR)
  ATRA (K_VP_VE_PU_UG,E_VP_VE_PU_UG)
  ;NMRLU20-03A-V53
  ; 
  ;Grenzwert
  ;Vorerhitzerpumpe
  ;Ein
  ; 
  ANEIN (&M4,K_VP_VE_PU_OG,S_ERR)
  ATRA (K_VP_VE_PU_OG,E_VP_VE_PU_OG)
  ;NMRLU20-03A-V54
  ; 
  ;Grenzwert
  ;Vorerhitzerpumpe
  ;Aus
  ; 
  ;*****************************************************************
  ;*** Seite  13
  ;*****************************************************************
  ANEIN (&M27,E_X_LU_P,S_ERR)
  ;NMRLU20-03A-P11
  ; 
  ;Istwert
  ;Zuluftdruck
  ; 
  ANEIN (&M28,E_X_ZL_T,S_ERR)
  ;NMRLU20-03A-T11
  ; 
  ;Istwert
  ;Zulufttemperatur
  ; 
  ANEIN (&M29,E_X_VE_RL_T,S_ERR)
  ;NMRLU20-03A-T06
  ; 
  ;Istwert
  ;Vorerhitzer-
  ;Rücklauftemperatur
  ; 
  ANEIN (&M30,E_MW_WRG_VL_T,S_ERR)
  ;NMRLU20-03A-T03
  ;R
  ; 
  ;Messwert
  ;WRG- Vorlauf-
  ;Temperatur
  ; 
  ANEIN (&M31,E_MW_AUL_T,S_ERR)
  ;NMRLU20-02A-T01
  ; 
  ;Istwert
  ;Aussenlufttemperatur
  ;Von Anl. 2
  ; 
  ;*****************************************************************
  ;*** Seite  14
  ;*****************************************************************
  ANEIN (&M32,E_MW_WR_VE,S_ERR)
  ;NMRLU20-03A-M03
  ; 
  ;Messwert
  ;WRG-Ventil
  ;Rücksignal
  ; 
  ANEIN (&M33,E_MW_VE_VE,S_ERR)
  ;NMRLU20-03A-M06
  ;R
  ; 
  ;Messwert
  ;Vorerhitzerventil
  ;Rücksignal
  ; 
  ANEIN (&M34,E_MW_AU_TEMP,S_ERR)
  ;NMRAS09-00A-T00
  ; 
  ;Messwert
  ;Aussentemperatur
  ;Highbus
  ; 
  ;*****************************************************************
  ;*** Seite  15
  ;*****************************************************************
  SOLKEN (10,K_1_STATUS,E_W_VE_RL_T,S_ERR)
  ;NMRLU20-03A-T60
  ; 
  ;*****************************************************************
  ;*** Seite  16
  ;*****************************************************************
  MOKY (E_BM_QUITT,$M35,$B12)
  MOKY (K_0_STATUS,$M36,$B13)
  MOKY (K_0_STATUS,$M37,$B14)
  MOKY (K_0_STATUS,$M38,$B15)
  ODRMN (4,$B12,$B13,$B14,$B15,0,$B16,$WSCRATCH)
  MOKY ($B16,$M39,Z_QUITT)
  VVZ ($B16,$M40,$M41,$B17)
  MOKY ($B17,$M42,R_QUITT_AUS)
  ;Störungs- Quittierung
  ;- Taster Schaltschrank
  ;- Virt. Freigabe
  ;- Virt. Quittierung
  ;- Rückm. Schaltbefehl
  ;  Hardw. Quittierung
  ;
  ;_
  ; 
  ;Es kann die Software
  ;und die Hardware
  ;Veriegelung quittiert
  ;werden.
  ; 
  ;*****************************************************************
  ;*** Seite  17
  ;*****************************************************************
  ODRMN (8,Z_LU_ST,E_ST_FROST,E_ST_BSK,E_ST_RM,E_VP_ST_AL,
         K_0_STATUS,K_0_STATUS,K_0_STATUS,0,$B18,$WSCRATCH)
  VVZ (E_VP_ST_AL,$M43,$M44,$B19)
  ODR2 ($B18,$B19,$B20)
  UND11 ($B20,Alle-RM-ausgel,$B21)
  VVZ ($B21,$M45,$M46,$B22)
  RSS ($B22,Z_QUITT,A_HAUPT_ST,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  18
  ;*****************************************************************
  ODRMN (8,A_HAUPT_ST,K_0_STATUS,A_ST_KL,E_ST_FU,K_0_STATUS,
         A_ST_VE_VE,A_ST_WR_VE,A_ST_VE_ENERG,0,$B23,
         $WSCRATCH)
  ODRMN (8,E_ST_VE_PU,K_0_STATUS,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,K_0_STATUS,E_ST_ENTRAUCH,E_ST_BMZ,0,$B24,
         $WSCRATCH)
  ODR2 ($B23,$B24,A_ST_SAM_ST)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  19
  ;*****************************************************************
  UNDMN (2,E_VP_FREIG,E_VP_RM_AL,3,A_HAUPT_ST,E_ST_BMZ,
         E_ST_ENTRAUCH,Z_HAUPT,$WSCRATCH)
  ;Anlage Einschalten
  ;- Freigabe DDC
  ;- Keine Abschaltstörung
  ;- Keine Auslösung BMZ
  ;- Abluftanlage Ein
  ; 
  ;*****************************************************************
  ;*** Seite  20
  ;*****************************************************************
  MELEIN (&M47,1,$HB2,$WSCRATCH)
  NICHT ($HB2,$B25)
  MELEIN (&M48,1,$HB2,$WSCRATCH)
  NICHT ($HB2,$B26)
  UND2 (E_ST_RM,Alle-RM-ausgel,$B27)
  ODRMN (3,E_ST_RM,$B25,$B26,0,$WSCRATCH,$B28)
  ODR2 ($B28,$B27,$B29)
  VVZ ($B29,$M49,$M50,A_RM_BSK)
  ;Auslösung Rauchmelder
  ;Lüftung weitergeben
  ;an BSK-System
  ; 
  ;*****************************************************************
  ;*** Seite  21
  ;*****************************************************************
  MELEIN (&M51,1,$B30,$WSCRATCH)
  MELEIN (&M52,1,$B31,$WSCRATCH)
  MELEIN (&M53,1,$B32,$WSCRATCH)
  MELEIN (&M54,1,$B33,$WSCRATCH)
  UNDMN (0,6,$B30,$B31,$B32,$B33,$B34,$B35,Alle-RM-ausgel,
         $WSCRATCH)
  MELEIN (&M55,1,$B34,$WSCRATCH)
  MELEIN (&M47,1,$B35,$WSCRATCH)
  ;Weitergabe eines Kanal-
  ;rauchmelders an das BSK-
  ;System
  ;Wenn alle RM ange-
  ;sprochen haben, ist von
  ;Netzausfall auszugehen.
  ; 
  ;*****************************************************************
  ;*** Seite  22
  ;*****************************************************************
  UND11 (Z_HAUPT,E_RM_KL_AUF,$B36)
  VVZ ($B36,$M57,$M58,$B37)
  UND11 (E_RM_KL_AUF,Z_HAUPT,$B38)
  VVZ ($B38,$M59,$M60,$B39)
  ODR2 ($B37,$B39,$B40)
  RSS ($B40,Z_QUITT,A_ST_KL,$WSCRATCH)
  ;Laufüberwachung Antrieb:
  ;Erreicht der Antrieb
  ;nach Ansteuerung Auf und
  ;Ablauf der Überwachungs-
  ;zeit seine Endlage Auf
  ;nicht oder verläßt er
  ;seine Endlage Auf nach
  ;Ansteuerung Zu und Ab-
  ;lauf der Überwachungs-
  ;zeit nicht, dann wird
  ;eine virtuelle Störung
  ;gesetzt.
  ; 
  ;*****************************************************************
  ;*** Seite  23
  ;*****************************************************************
  ODRMN (6,E_ST_LU_KL,R_ST_LU_BI,E_ST_LU_REPS,R_ST_LU_DRUCK,
         E_ST_LU_OPM,R_ST_LU_STROEM,0,Z_LU_ST,$WSCRATCH)
  ;Störung Lüfter
  ;- Kaltleiter Motor
  ;- Bimetall Motor
  ;- Reparaturschalter
  ;- Keilriemen Diff-Druck
  ;- Keilriemen Oppermann
  ;- Keilriemen Strömung
  ; 
  ;*****************************************************************
  ;*** Seite  24
  ;*****************************************************************
  UNDMN (2,E_RM_LU_EIN,Z_HAUPT,1,E_ST_FU,$WSCRATCH,$B41)
  REGLER (16,K_1_STATUS,$B41,$M61,D_Y_LU_REG,S_ERR)
  PT1 (D_Y_LU_REG,$M62,$F1)
  MAX (2,$F1,R_FU_Q_REG,Z_LU_FU)
  ;Luftdruckregelung
  ;mit Frequenzumformer
  ;- Lüfter eingeschaltet
  ;- Freigabe Anlage
  ;- Frequenzumf. Störung
  ;- Signal CO2 Regelung
  ; 
  ;*****************************************************************
  ;*** Seite  25
  ;*****************************************************************
  ODRMN (3,R_ANFAHR,Z_HAUPT,K_0_STATUS,0,$B42,$WSCRATCH)
  UND21 ($B42,E_RM_KL_AUF,Z_LU_ST,$B43)
  VVZ ($B43,$M63,$M64,A_BF_LU)
  ;Einstufiger Lüfter
  ;- Anfahrbetrieb
  ;- Freigabe Anlage
  ;- Entrauchung
  ;- Störung Lüfter
  ;- Klappe Auf
  ; 
  ;*****************************************************************
  ;*** Seite  26
  ;*****************************************************************
  ODR2 (Z_HAUPT,R_ANFAHR,$B44)
  UND2 (E_RM_LU_EIN,$B44,$B45)
  LIMIT (Z_LU_FU,$M65,$M66,$F2)
  AWT ($B45,$M67,$F2,$F3)
  VGLOH (E_X_LU_P,$M68,$B46)
  VVZ ($B46,$M69,$M70,$B47)
  AWT ($B47,$F3,$M71,A_AS_LU_FU)
  ;Frequenzumformer
  ;- Rückmeldung FU
  ;- Freigabe Anlage
  ;- Anfahrbetrieb
  ;- Entrauchung
  ;- Regelsignal FU
  ; 
  ;*****************************************************************
  ;*** Seite  27
  ;*****************************************************************
  NICHT (Z_HAUPT,$HB3)
  REGLER (17,K_1_STATUS,$HB3,$M72,D_Y_REG_T,S_ERR)
  SEQ2 (D_Y_REG_T,$M73,$M74,$M75,$F4,$F5,$WSCRATCH)
  MIN (2,$F4,K_100_WERT,R_Y_KUEHLEN)
  MIN (2,$F5,K_100_WERT,Z_Y_HEIZEN)
  ;Zulufttemperatur-
  ;Regelung mit
  ;Kühlen/Heizen Sequenz
  ;0% -> 0%
  ;Kühlen
  ;52% -> 0%
  ;Heizen
  ; 
  ;*****************************************************************
  ;*** Seite  28
  ;*****************************************************************
  VGLEH (E_MW_AUL_T,E_MW_WRG_VL_T,$M76,$HB3)
  NICHT ($HB3,$B48)
  UNDMN (1,$B48,2,$B49,$B50,Z_WR_HZ,$WSCRATCH)
  VGLEH (E_MW_WRG_VL_T,E_MW_AUL_T,$M77,$HB3)
  NICHT ($HB3,$B49)
  UNDMN (1,$B49,2,$B48,$B50,R_WR_KU,$WSCRATCH)
  ODR2 (E_ST_WR,R_ST_WR_REPS,$B50)
  ;Auswahl WRG
  ;Heizen / Kühlen
  ;Aussentemperatur <
  ;Ablufttemperatur
  ;-> Heizbetrieb
  ;Aussentemperatur >
  ;Ablufttemperarur
  ;-> Kühlbetrieb
  ; 
  ;*****************************************************************
  ;*** Seite  29
  ;*****************************************************************
  NICHT (Z_WR_HZ,$B51)
  FKG (Z_Y_HEIZEN,4,$M78,$M79,$M80,$M81,$F6)
  AWT ($B51,$F6,$M82,Z_WR_HEIZEN)
  FKG (Z_Y_HEIZEN,4,$M83,$M84,$M85,$M86,$F7)
  AWT ($B51,$F7,Z_Y_HEIZEN,Z_VE_HEIZEN)
  ;Bei Heizsignal
  ;Aufteilung in Zweier-
  ;Sequenz WRG/
  ;Vorerhitzer
  ;Falls kein WRG/Heiz-
  ;betrieb möglich ist,
  ;wird direkt der Vorerh.
  ;angesprochen
  ; 
  ;*****************************************************************
  ;*** Seite  30
  ;*****************************************************************
  MAX (2,Z_WR_HEIZEN,R_WR_KUEHLEN,$F8)
  MIN (2,$F8,K_100_WERT,$F9)
  ODRMN (1,R_WR_WA_VE_0,1,Z_HAUPT,$B52,$WSCRATCH)
  AWT ($B52,$F9,$M87,$F10)
  AWT (R_WR_WA_VE_100,$F10,$M88,A_AS_WR_VE)
  ;Rekuperatives
  ;WRG-Ventil
  ;- Regelsignal Heizen
  ;- Regelsignal Kühlen
  ;- Regelsignal Min-Temp
  ;- Freigabe Anlage
  ;- Wartung Ventil 0
  ;- Wartung Ventil 100
  ; 
  ;*****************************************************************
  ;*** Seite  31
  ;*****************************************************************
  SUB2 (A_AS_WR_VE,E_MW_WR_VE,$F11)
  ABSWER ($F11,$F12)
  VGLOH ($F12,$M89,$B53)
  UND11 ($B53,Z_QUITT,$B54)
  NICHT ($B54,$HB1)
  UHR (K_1_STATUS,$HB1,$F13)
  VGLOH ($F13,$M90,$B55)
  RSS ($B55,Z_QUITT,A_ST_WR_VE,$WSCRATCH)
  ;Das Stellsignal wird
  ;mit dem Stellungs-
  ;rücksignal verglichen.
  ;Ist die Diffferenz
  ;größer als +/- 1028682nd
  ;dauert diese länger als
  ;3 Minuten, dann wird
  ;eine virtuelle Störung
  ;gesetzt.
  ; 
  ;*****************************************************************
  ;*** Seite  32
  ;*****************************************************************
  LIMIT (R_VP_VE_RL,$M91,$M92,$F14)
  VGLEH (E_MW_AUL_T,$F14,$M93,$B56)
  LREG (E_X_VE_RL_T,E_W_VE_RL_T,K_1_STATUS,$B56,$M94,$M95,
        $M96,$M97,$M98,$M99,$M100,$M101,$M102,$M103,$M104,
        Z_VE_RL_MIN_R,S_ERR)
  ;Vorerhitzer Rücklauf
  ;Min-Temperaturregelung
  ;- lokaler Regler
  ;- Einstellbarer Wert
  ;  Freigabe über AU-Temp
  ; 
  ;*****************************************************************
  ;*** Seite  33
  ;*****************************************************************
  MAX (2,Z_VE_RL_MIN_R,$F16,A_AS_VE_VE)
  UNDMN (1,Z_HAUPT,1,R_VE_SPERR,$WSCRATCH,$B57)
  ODR2 ($B57,R_VE_WA_VE_0,$B58)
  AWT ($B58,Z_VE_HEIZEN,$M105,$F15)
  MOKS (R_ANFAHR,$M106,$B59)
  MOKS (E_ST_FROST,$M107,$B60)
  ODRMN (3,$B59,$B60,R_VE_WA_VE_100,0,$B61,$WSCRATCH)
  AWT ($B61,$F15,$M108,$F16)
  ;Vorerhitzerventil
  ;- Regelsignal Min-Temp
  ;- Regelsignal Temp-Reg.
  ;- Freigabe Anlage
  ;- Freigabe Vorerhitzer
  ;- Wartung Ventil 0 
  ;- Anfahrbetrieb
  ;- Frostschutz luftseitig
  ;- Wartung Ventil 100
  ; 
  ;*****************************************************************
  ;*** Seite  34
  ;*****************************************************************
  SUB2 (A_AS_VE_VE,E_MW_VE_VE,$F17)
  ABSWER ($F17,$F18)
  VGLOH ($F18,$M109,$B62)
  UND11 ($B62,Z_QUITT,$B63)
  NICHT ($B63,$HB1)
  UHR (K_1_STATUS,$HB1,$F19)
  VGLOH ($F19,$M110,$B64)
  RSS ($B64,Z_QUITT,A_ST_VE_VE,$WSCRATCH)
  ;Das Stellsignal wird
  ;mit dem Stellungs-
  ;rücksignal verglichen.
  ;Ist die Diffferenz
  ;größer als +/- 1028682nd
  ;dauert diese länger als
  ;3 Minuten, dann wird
  ;eine virtuelle Störung
  ;gesetzt.
  ; 
  ;*****************************************************************
  ;*** Seite  35
  ;*****************************************************************
  LIMIT (E_VP_VE_PU_OG,$M111,$M112,$F20)
  VGLUH (E_MW_AU_TEMP,$F20,$M113,$M114,$B65)
  LIMIT (E_VP_VE_PU_UG,$M115,$M116,$F21)
  VGLUH ($F21,E_MW_AU_TEMP,$M117,$M118,$B66)
  RSS ($B66,$B65,Z_VE_ZWANGS,$WSCRATCH)
  ;Zwangsschaltung der
  ;Vorerhitzerpumpe über
  ;eine Obere Temp.-Grenze
  ;und eine
  ;Untere Temp.-Grenze
  ;Hysterese: 0,25K
  ;AU-Temp <  5 Grad
  ;-> Vorerhitz. Ein
  ;AU-Temp >  7 Grad
  ;-> Vorerhitz Aus
  ; 
  ;*****************************************************************
  ;*** Seite  36
  ;*****************************************************************
  VGLEH (A_AS_VE_VE,$M119,$M120,$B67)
  VVZ ($B67,$M121,$M122,$B68)
  UND2 ($B68,Z_HAUPT,Z_VE_ANF_PU)
  ;Bedarfabhängiges
  ;Einschalten der
  ;Vorerhitzerpumpe
  ;Y>5> Pumpe Ein
  ;Y<3
  ; und Zeit> 5Min ->
  ;Pumpe Aus
  ;
  ; 
  ;*****************************************************************
  ;*** Seite  37
  ;*****************************************************************
  UHR (K_1_STATUS,$B70,D_ZEIT_VE_PU_A)
  VGLOH (D_ZEIT_VE_PU_A,$M123,$B69)
  MOKY ($B69,$M124,Z_VE_WA_PU)
  ODR2 (E_RM_VE_PU_EIN,Z_VE_WA_PU,$B70)
  ;Vorerhitzerpumpe
  ;Wartungslauf
  ;Hat die Pumpe länger
  ;als 48 Stunden gestanden
  ;wird sie für 5 Min
  ;eingeschaltet.
  ; 
  ;*****************************************************************
  ;*** Seite  38
  ;*****************************************************************
  UNDMN (2,Z_HAUPT,Z_VE_ANF_PU,3,R_VE_SPERR,R_VE_WA_VE_0,
         R_VE_WA_VE_100,$B71,$WSCRATCH)
  ODRMN (5,$B71,E_ST_FROST,Z_VE_ZWANGS,Z_VE_WA_PU,R_ANFAHR,0,
         $B72,$WSCRATCH)
  UND11 ($B72,E_ST_VE_PU,A_BF_VE_PU)
  ;Vorerhitzerpumpe
  ;- Störung Pumpe
  ;- Freigabe Anlage
  ;- Freigbae Vorerhitzer
  ;- Anforderung Regelung
  ;- Frostschutz
  ;- Zwangsschaltung
  ;- Wartungslauf Pumpe
  ;- Anfahrbetrieb
  ;- Wartung Ventil 0
  ;- Wartung Ventil 100
  ; 
  ;*****************************************************************
  ;*** Seite  39
  ;*****************************************************************
  VGLOH (E_MW_AU_TEMP,$M125,$B73)
  VGLOH (E_X_VE_RL_T,$M126,$B74)
  VGLOH (A_AS_VE_VE,$M127,$HB2)
  NICHT ($HB2,$B75)
  UNDMN (3,$B73,$B74,$B75,0,$B76,$WSCRATCH)
  UND11 ($B76,Z_QUITT,$B77)
  NICHT ($B77,$HB1)
  UHR (K_1_STATUS,$HB1,$F22)
  VGLOH ($F22,$M128,$B78)
  RSS ($B78,Z_QUITT,A_ST_VE_ENERG,$WSCRATCH)
  ;AU-Temperatur >20 Grad C
  ;und
  ;RL-Temperatur >30 Grad C
  ;Und
  ;Erhitzerventil < 3
  ;Und
  ;Zustand länger
  ;als 60 Min
  ;dann liegt eine
  ;Energiestörung Erhitzer
  ;vor
  ; 
  ;*****************************************************************
  ;*** Seite  40
  ;*****************************************************************
  SETMEL (K_1_STATUS,1,A_HAUPT_ST,&M129,S_ERR)
  ;NMRLU20-03A-A50
  ; 
  SETMEL (K_1_STATUS,1,A_ST_SAM_ST,&M130,S_ERR)
  ;Abschaltstörung
  ; 
  ;NMRLU20-03A-S50
  ; 
  ;Sammelstörung
  ; 
  SETMEL (K_1_STATUS,1,A_ST_KL,&M131,S_ERR)
  ;NMRLU20-03A-S51
  ; 
  SETMEL (K_1_STATUS,1,A_ST_VE_VE,&M132,S_ERR)
  ;Störung
  ;Aussenluftklappe
  ; 
  ;NMRLU20-03A-S53
  ; 
  ;Störung
  ;Vorerhitzerventil
  ; 
  SETMEL (K_1_STATUS,1,A_ST_VE_ENERG,&M133,S_ERR)
  ;NMRLU20-03A-S52
  ; 
  ;Störung Energie
  ;Vorerhitzer
  ; 
  ;*****************************************************************
  ;*** Seite  41
  ;*****************************************************************
  SETMEL (K_1_STATUS,1,A_ST_WR_VE,&M134,S_ERR)
  ;NMRLU20-03A-S56
  ; 
  ;Störung
  ;WRG-Ventil
  ; 
  ;*****************************************************************
  ;*** Seite  42
  ;*****************************************************************
  ;NMRLU20-03A-X50
  ; 
  BEFAUS (1,A_HAUPT_ST,$WZERO,$WZERO,$WZERO,&M0,S_ERR)
  ;Freigabee
  ;ausschalten
  ; 
  ;NMRLU20-03A-X11
  ; 
  NICHT (Z_HAUPT,$HB0)
  BEFAUS (1,$HB0,Z_HAUPT,$WZERO,$WZERO,&M136,S_ERR)
  ;Aussenluftklappe
  ; 
  ;NMRLU20-03A-X01
  ; 
  NICHT (A_BF_LU,$HB0)
  BEFAUS (1,$HB0,A_BF_LU,$WZERO,$WZERO,&M137,S_ERR)
  ;Zuluftventilator
  ; 
  ;*****************************************************************
  ;*** Seite  43
  ;*****************************************************************
  ;NMRLU20-03A-X06
  ; 
  NICHT (A_BF_VE_PU,$HB0)
  BEFAUS (1,$HB0,A_BF_VE_PU,$WZERO,$WZERO,&M138,S_ERR)
  ;Vorerhitzerpumpe
  ; 
  ;NMRBM20-03A-X03
  ; 
  NICHT (A_RM_BSK,$HB0)
  BEFAUS (1,$HB0,A_RM_BSK,$WZERO,$WZERO,&M139,S_ERR)
  ;BSK-System
  ;Auslösung
  ;Rauchmelder Lüftung
  ; 
  ;*****************************************************************
  ;*** Seite  44
  ;*****************************************************************
  ;NMRLU20-03A-Y01
  ;R
  ; 
  ANAUS (A_AS_LU_FU,K_1_STATUS,&M140,S_ERR)
  ;Frequenzumformer
  ;Signal
  ; 
  ;NMRLU20-03A-Y03
  ; 
  ANAUS (A_AS_WR_VE,K_1_STATUS,&M141,S_ERR)
  ;WRG-Ventil
  ; 
  ;NMRLU20-03A-Y06
  ; 
  ANAUS (A_AS_VE_VE,K_1_STATUS,&M142,S_ERR)
  ;Vorerhitzerventil
  ; 
  ENDE 
  ENDMODUL 
