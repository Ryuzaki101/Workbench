  ;*****************************************************************
  ;*** Projekt Beginn
  ;*** Dateiname      : 00_08_06.GPS
  ;*** Projektname    : MPI GÖTTINGEN
  ;*** Projektnummer  : 
  ;*** Bearbeiter     : SCHLERETH
  ;*** Prüfer         : 
  ;*** Line Nummer    : 0
  ;*** User Number    : 8
  ;*** Modul Typ      : sp20
  ;*** Feldbus Nummer : 6
  ;*****************************************************************
  MODUL (@TYPE@, @FILEDBUS@)
  WordV  Z_INIT_TASK_EIN
  WordV  E_BM_ANF_DO1
  WordV  S_ERR
  WordK  K_1_STATUS (1)
  WordK  K_0_STATUS (0)
  WordV  E_ST_RUEHR_DO1
  WordV  E_ST_TR_DO1
  WordV  E_ST_PU_DO1
  WordV  A_DO1_RUEHR
  WordV  E_BM_ANF_DO2
  WordV  A_DO2_RUEHR
  WordV  A_DO1_PU
  WordV  A_DO2_PU
  WordV  E_ST_PU_DO2
  WordV  A_MV2_SPEIS
  WordV  E_BM_MV_SPEIS_Z
  WordV  E_BM_MV_SPEIS_A
  WordV  E_ST_TR_DO2
  WordV  E_ST_RUEHR_DO2
  WordV  Z_KO_PU_EIN
  WordV  E_BM_KO_PU_AUS
  WordV  E_ST_TR_SPEISE
  WordV  E_ST_HW_SPEISE
  WordV  A_FREIG_SPEIS_PU
  WordV  A_MV_KODENSAT
  WordV  E_BM_MV_KO_AUF
  WordV  E_BM_MV_KO_ZU
  WordV  E_ST_HW_KODENSAT
  WordV  A_MV_ABSCHLAM_E
  WordV  E_BM_TEMP_ABSCHL
  WordV  A_PU_ENTHAERTUNG
  WordV  E_ST_KO_PU_2
  WordV  Z_KO_WA_PU_1
  WordV  Z_KO_WA_PU_2
  WordV  A_KO_PUMPE_2
  WordV  A_KO_PUMPE_1
  WordV  E_ST_SAM_HDD2
  WordV  E_ST_PU_ENTHAERT
  WordV  A_SAM_ST_US
  WordV  E_ST_SAM_WT2
  WordV  E_ST_TR_KO_PU
  WordV  Z_KO_ANF_PU_1
  WordV  Z_KO_ANF_PU_2
  FloatV D_ZT_KO_PU2_AUS
  WordV  E_RM_KO_PU_1
  WordV  E_RM_KO_PU_2
  WordV  E_ST_KO_PU_1
  FloatV D_ZT_KO_PU1_AUS
  WordV  Z_1_KO_PU_EIN
  WordV  E_ST_TESTOMAT
  WordV  E_ST_PU_DO3
  WordV  E_ST_HZ_STROEM
  WordV  A_FERNQU_TEST_A
  WordV  E_ST_TR_DO3
  WordV  E_ST_SAM_HDD1
  WordV  E_BM_FERNQU_TEST
  WordV  E_ST_BLITZ
  WordV  E_ST_PHASE
  WordV  A_SAM_ST_ENTH
  WordV  A_SAM_ST_KO
  WordV  A_SAM_ST_SP
  WordV  A_SAM_ST_DO
  WordV  A_SAM_ST_ALLG
  FloatV D_LFT_KO_PU_2
  FloatV D_LZT_KO_PU_1
  WordV  E_ST_SAM_WT1
  WordV  E_ST_STEUERSICH
  WordV  E_ST_NOTAUS
  WordV  E_ST_SPEISE_PU1
  WordV  E_ST_SPEISE_PU2
  WordV  E_ST_HZ_PU2
  WordV  E_ST_HZ_PU1
  WordV  R_SAM_ST_ABSCHL
  WordV  E_ST_HZ_PU3
  WordV  R_MV_KODENSAT
  WordV  E_ST_BHKW
  WordV  E_BM_MV_SP3_AUF
  WordV  E_BM_MV_SP1_AUF
  WordV  E_BM_MV_SP2_AUF
  WordV  E_BM_DRUCKSCHALT
  WordV  A_MV1_SPEIS
  WordV  A_MV3_SPEIS
  WordV  $HB0
  IPAMB &M0 (2,3)
  IPAMB &M1 (181,0)
  IPAMB &M2 (2,6)
  WordV  $B1
  IPAMB &M3 (11,7)
  WordV  $B2
  IPAMB &M4 (10,2)
  WordV  $B3
  IPAMB &M5 (10,6)
  WordV  $B4
  IPAMB &M6 (11,2)
  WordV  $B5
  IPAMB &M7 (37,11)
  WordV  $B6
  IPAMB &M8 (10,11)
  WordV  $B7
  IPAMB &M9 (10,15)
  WordV  $B8
  IPAMB &M10 (26,11)
  WordV  $B9
  IPAMB &M11 (27,11)
  WordV  $B10
  IPAMB &M12 (36,2)
  WordV  $B11
  IPAMB &M13 (36,6)
  WordV  $B12
  IPAMB &M14 (38,2)
  WordV  $B13
  IPAMB &M15 (38,6)
  WordV  $B14
  IPAMB &M16 (36,11)
  WordV  $B15
  IPAMB &M17 (36,15)
  WordV  $B16
  IPAMB &M18 (34,10)
  WordV  $B17
  IPAMB &M19 (28,10)
  WordV  $B18
  IPAMB &M20 (39,2)
  WordV  $B19
  IPAMB &M21 (39,6)
  WordV  $B20
  IPAMB &M22 (35,10)
  WordV  $B21
  IPAMB &M23 (29,10)
  WordV  $B22
  IPAMB &M24 (33,6)
  WordV  $B23
  IPAMB &M25 (35,14)
  WordV  $B24
  IPAMB &M26 (37,2)
  WordV  $B25
  IPAMB &M27 (2,7)
  WordV  $B26
  IPAMB &M28 (3,2)
  WordV  $B27
  IPAMB &M29 (28,15)
  WordV  $B28
  IPAMB &M30 (36,14)
  IPAMB &M31 (37,14)
  IPAMB &M32 (28,14)
  IPAMB &M33 (11,15)
  WordV  $B29
  IPAMB &M34 (35,15)
  IPAMB &M35 (191,0)
  IPAMB &M36 (28,11)
  IPAMB &M37 (34,14)
  IPAMB &M38 (34,11)
  IPAMB &M39 (37,15)
  IPAMB &M40 (39,3)
  IPAMB &M41 (39,7)
  IPAMB &M42 (32,11)
  WordV  $WSCRATCH
  IPAMB &M43 (33,15)
  IPAMB &M44 (33,11)
  IPAMB &M45 (34,15)
  WordV  $HB2
  WordV  $B30
  WordV  $B31
  WordV  $B32
  WordV  $B33
  WordV  $B34
  WordV  $B35
  WordV  $B36
  WordV  $B37
  FloatK $M46 (129600.00)
  WordV  $B38
  WordV  $B39
  WordV  $B40
  FloatK $M47 (86400.00)
  WordV  $B41
  WordV  $B42
  WordV  $B43
  FloatK $M48 (4.00)
  WordV  $B44
  FloatK $M49 (4.00)
  WordV  $B45
  FloatK $M50 (172800.00)
  WordV  $B46
  FloatK $M51 (10.00)
  WordV  $B47
  FloatK $M52 (172800.00)
  WordV  $B48
  FloatK $M53 (10.00)
  WordV  $B49
  WordV  $B50
  FloatK $M54 (0.00)
  FloatK $M55 (10.00)
  WordV  $B51
  FloatK $M56 (4.00)
  FloatK $M57 (0.00)
  WordV  $B52
  FloatK $M58 (4.00)
  WordV  $B53
  WordV  $B54
  WordV  $B55
  WordV  $B56
  WordV  $B57
  WordV  $B58
  WordV  $B59
  WordV  $B60
  IPAMB &M59 (160,3)
  IPAMB &M60 (160,0)
  IPAMB &M61 (160,4)
  IPAMB &M62 (160,2)
  IPAMB &M63 (160,1)
  WordK  $WONE (1)
  WordK  $WZERO (0)
  IPAMB &M64 (36,1)
  IPAMB &M65 (38,1)
  IPAMB &M66 (32,13)
  IPAMB &M67 (36,5)
  IPAMB &M68 (38,5)
  IPAMB &M69 (32,9)
  IPAMB &M70 (27,5)
  IPAMB &M71 (39,1)
  IPAMB &M72 (39,5)
  IPAMB &M73 (37,5)
  IPAMB &M74 (33,5)
  IPAMB &M75 (35,13)
  IPAMB &M76 (3,5)
  IPAMB &M77 (33,13)
  IPAMB &M78 (33,9)
  ;*****************************************************************
  ;*** Seite   1
  ;*****************************************************************
  TASK (1,init)
  ;PROJEKT:
  ;------------------------
  ;Max-Planck-Institut
  ;für Bio-Physikalische
  ;Chemie Götingen
  ;KUNDE:
  ;------------------------
  ;Lodewick GmbH
  ; 
  ;ANLAGE:
  ;------------------------
  ;Umbau kesselhaus
  ;- Dosieranlage
  ;- Speisewasserbehälter
  ;- Kondensatgefäß
  ;- Abschlammgefäß
  ;- Enthärtungsanlage
  ;- Allgemein
  ; 
  ;Diese Steuerungs- und
  ;Regelungs- Software
  ;wurde von der Firma
  ;MS-TEPLAN erstellt.
  ;Das Programm darf nur
  ;mit ausdrücklicher
  ;Genehmigung von
  ;MS-TEPLAN oder von
  ;ABB Gebäudeautomation
  ;geändert oder kopiert
  ;werden.
  ; 
  ;*****************************************************************
  ;*** Seite   2
  ;*****************************************************************
  ;PROGRAMMSTRUKTUR:
  ;-----------------------
  ;Task 1= Initialisierung
  ;Task 2= Initialisierung
  ;Task 3= Daten Einlesen
  ;Digitale Werte
  ;Analoge Werte
  ;Task 4= Kopfsteuerung/
  ;Regelung und Steuerung
  ; 
  ;VARIABLENLEGENDE:
  ;-----------------------
  ;Z_ = Zwischenvariable
  ;E_ = Eingabevariable
  ;A_ = Ausgabevariable
  ;K_ = Konstante
  ;D_ = Displayvariable
  ;S_ = Systemvariable
  ;R_ = Reservarariable
  ; 
  ;Task 5= Daten Ausgeben
  ;Digitale Werte
  ;Analoge Werte
  ; 
  ;_VP_ = Virtueller Var.
  ;_BM_ = Betriebs Var.
  ;_ST_ = Störungs Var.
  ;_RM_ = Rückmeld. Var.
  ;_MW_ = Meßwert Var.
  ;_AS_ = Stellsignal Var.
  ;_X_  = Istwert Regel.
  ;_W_  = Sollwert Regel.
  ;_Y_  = Stellwert Regel.
  ;_SK_ = Sollkennlinie
  ;_PK_ = Papierkorb
  ;_ERR_= Fehlerkorb
  ; 
  ;*****************************************************************
  ;*** Seite   3
  ;*****************************************************************
  BTRA (K_1_STATUS,Z_INIT_TASK_EIN)
  ;Initialisierungs-
  ;schalter aktivieren
  ; 
  ;*****************************************************************
  ;*** Seite   4
  ;*****************************************************************
  ENDE 
  ;*****************************************************************
  ;*** Seite   5
  ;*****************************************************************
  TASK (2,cycl,500)
  NICHT (Z_INIT_TASK_EIN,$HB0)
  BENDE ($HB0)
  ;Initialisierung
  ;durchfühhren
  ; 
  ;*****************************************************************
  ;*** Seite   6
  ;*****************************************************************
  BTRA (K_0_STATUS,Z_INIT_TASK_EIN)
  ;Initialisierungs-
  ;schalter
  ;deaktivieren
  ; 
  ;*****************************************************************
  ;*** Seite   7
  ;*****************************************************************
  ENDE 
  ;*****************************************************************
  ;*** Seite   8
  ;*****************************************************************
  TASK (3,cycl,1000)
  ;Einlesen der
  ;Prozeßdaten
  ;Digitale Werte
  ; 
  ;Einlesen der
  ;Prozeßdaten
  ;Analoge Werte
  ; 
  ;*****************************************************************
  ;*** Seite   9
  ;*****************************************************************
  ;Störung
  ;Notaus
  ;Schaltschrank
  ; 
  MELEIN (&M0,1,E_ST_NOTAUS,S_ERR)
  ;Störung
  ;Sammelstörung
  ;WT 1
  ; 
  MELEIN (&M1,1,E_ST_SAM_WT1,S_ERR)
  ;EZ-HE00-09A-S50
  ; 
  ;Störung
  ;Steuersicherung
  ;Schaltschrank
  ; 
  NICHT ($B1,E_ST_STEUERSICH)
  MELEIN (&M2,1,$B1,S_ERR)
  ;Störung
  ;Strömung
  ;Heizung
  ; 
  NICHT ($B2,E_ST_HZ_STROEM)
  MELEIN (&M3,1,$B2,S_ERR)
  ;EZ-HE00-11A-A01
  ; 
  ;EZ-UV00-01A-S01
  ; 
  ;Störung
  ;Pumpe 1
  ;Heizung
  ;
  ; 
  NICHT ($B3,E_ST_HZ_PU1)
  MELEIN (&M4,1,$B3,S_ERR)
  ;EZ-UV00-01A-X01
  ; 
  ;Störung
  ;Pumpe 2
  ;Heizung
  ;
  ; 
  NICHT ($B4,E_ST_HZ_PU2)
  MELEIN (&M5,1,$B4,S_ERR)
  ;EZ-HE00-11A-S02
  ; 
  ;EZ-HE00-11A-S01
  ; 
  ;*****************************************************************
  ;*** Seite  10
  ;*****************************************************************
  ;Störung
  ;Pumpe 3
  ;Heizung
  ; 
  NICHT ($B5,E_ST_HZ_PU3)
  MELEIN (&M6,1,$B5,S_ERR)
  ;Störung
  ;Trockenlauf
  ;Natronlauge
  ; 
  NICHT ($B6,E_ST_TR_DO3)
  MELEIN (&M7,1,$B6,S_ERR)
  ;EZ-HE00-01A-A03
  ;N
  ; 
  ;Störung
  ;Sammelstörung
  ;HDD 1
  ; 
  NICHT ($B7,E_ST_SAM_HDD1)
  MELEIN (&M8,1,$B7,S_ERR)
  ;Störung
  ;Sammelstörung
  ;HDD 2
  ; 
  NICHT ($B8,E_ST_SAM_HDD2)
  MELEIN (&M9,1,$B8,S_ERR)
  ;EZ-HE00-06A-S01
  ; 
  ;EZ-HE00-05A-S01
  ; 
  ;Störung
  ;Speisepumpe 1
  ; 
  NICHT ($B9,E_ST_SPEISE_PU1)
  MELEIN (&M10,1,$B9,S_ERR)
  ;EZ-HE00-11A-S03
  ; 
  ;Störung
  ;Speisepumpe 2
  ; 
  NICHT ($B10,E_ST_SPEISE_PU2)
  MELEIN (&M11,1,$B10,S_ERR)
  ;EZ-HE00-02A-S12
  ; 
  ;EZ-HE00-02A-S11
  ; 
  ;*****************************************************************
  ;*** Seite  11
  ;*****************************************************************
  ;Störung
  ;Dosierpumpe
  ;Natriumsulfid
  ; 
  NICHT ($B11,E_ST_PU_DO1)
  MELEIN (&M12,1,$B11,S_ERR)
  ;Störung
  ;Dosierpumpe
  ;Phosphat
  ; 
  NICHT ($B12,E_ST_PU_DO2)
  MELEIN (&M13,1,$B12,S_ERR)
  ;EZ-HE00-01A-X02
  ;P
  ; 
  ;Störung
  ;Rührwerk
  ;Natriumsulfid
  ; 
  NICHT ($B13,E_ST_RUEHR_DO1)
  MELEIN (&M14,1,$B13,S_ERR)
  ;Störung
  ;Rührwerk
  ;Phosphat
  ; 
  NICHT ($B14,E_ST_RUEHR_DO2)
  MELEIN (&M15,1,$B14,S_ERR)
  ;EZ-HE00-01A-X12
  ; 
  ;EZ-HE00-01A-X11
  ; 
  ;Störung
  ;Trockenlaufschutz
  ;Natriumsulfid
  ; 
  NICHT ($B15,E_ST_TR_DO1)
  MELEIN (&M16,1,$B15,S_ERR)
  ;EZ-HE00-01A-X01
  ; 
  ;Störung
  ;Trockenlaufschutz
  ;Phosphat
  ; 
  NICHT ($B16,E_ST_TR_DO2)
  MELEIN (&M17,1,$B16,S_ERR)
  ;EZ-HE00-01A-A02
  ; 
  ;EZ-HE00-01A-A01
  ; 
  ;*****************************************************************
  ;*** Seite  12
  ;*****************************************************************
  ;Störung
  ;Hochwasser
  ;Kondensatbehälter
  ; 
  NICHT ($B17,E_ST_HW_KODENSAT)
  MELEIN (&M18,1,$B17,S_ERR)
  ;Störung
  ;Hochwasser
  ;Speisewasserbehält
  ; 
  NICHT ($B18,E_ST_HW_SPEISE)
  MELEIN (&M19,1,$B18,S_ERR)
  ;EZ-HE00-02A-A01
  ; 
  ;Störung
  ;Kondensatpumpe 1
  ; 
  NICHT ($B19,E_ST_KO_PU_1)
  MELEIN (&M20,1,$B19,S_ERR)
  ;Störung
  ;Kondensatpumpe 2
  ; 
  NICHT ($B20,E_ST_KO_PU_2)
  MELEIN (&M21,1,$B20,S_ERR)
  ;EZ-HE00-03A-X12
  ; 
  ;EZ-HE00-03A-X11
  ; 
  ;Störung
  ;Trockenlaufschutz
  ;Kondensatpumpen
  ; 
  NICHT ($B21,E_ST_TR_KO_PU)
  MELEIN (&M22,1,$B21,S_ERR)
  ;EZ-HE00-03A-A01
  ; 
  ;Störung
  ;Trockenlaufschutz
  ;Speisewasserpumpen
  ; 
  NICHT ($B22,E_ST_TR_SPEISE)
  MELEIN (&M23,1,$B22,S_ERR)
  ;EZ-HE00-02A-A03
  ; 
  ;EZ-HE00-03A-A03
  ; 
  ;*****************************************************************
  ;*** Seite  13
  ;*****************************************************************
  ;Störung
  ;Enthärtungspumpe
  ; 
  NICHT ($B23,E_ST_PU_ENTHAERT)
  MELEIN (&M24,1,$B23,S_ERR)
  ;Störung
  ;Testomat
  ;Enhärtungsanlage
  ; 
  NICHT ($B24,E_ST_TESTOMAT)
  MELEIN (&M25,1,$B24,S_ERR)
  ;EZ-HE00-08A-A01
  ; 
  ;Störung
  ;Dosierpumpe
  ;Natronlauge
  ; 
  NICHT ($B25,E_ST_PU_DO3)
  MELEIN (&M26,1,$B25,S_ERR)
  ;EZ-HE00-01A-X03
  ;N
  ; 
  ;Störung
  ;Blitzschutz
  ;Schaltschrank
  ; 
  NICHT ($B26,E_ST_BLITZ)
  MELEIN (&M27,1,$B26,S_ERR)
  ;EZ-UV00-01A-S02
  ;S
  ; 
  ;Störung
  ;Phasebüberwachung
  ;Schaltschrank
  ; 
  NICHT ($B27,E_ST_PHASE)
  MELEIN (&M28,1,$B27,S_ERR)
  ;EZ-HE00-08A-X01
  ; 
  ;EZ-UV00-01A-S03
  ; 
  ;Meldung Anford.
  ;Magnetventil
  ;Speisewasser Auf
  ; 
  NICHT ($B28,E_BM_MV_SPEIS_A)
  MELEIN (&M29,1,$B28,S_ERR)
  ;EZ-HE00-02A-A02
  ; 
  ;*****************************************************************
  ;*** Seite  14
  ;*****************************************************************
  ;Meldung
  ;Anforderung
  ;Dosierung HDD1
  ; 
  ;EZ-HE00-01A-B01
  ;D
  ; 
  MELEIN (&M30,1,E_BM_ANF_DO1,S_ERR)
  ;Meldung
  ;Anforderung
  ;Dosierung HDD2
  ; 
  ;EZ-HE00-01A-B02
  ;D
  ; 
  MELEIN (&M31,1,E_BM_ANF_DO2,S_ERR)
  ;Meldung Anford.
  ;Magnetventil
  ;Speisewasser Zu
  ; 
  ;EZ-HE00-02A-B02
  ; 
  MELEIN (&M32,1,E_BM_MV_SPEIS_Z,S_ERR)
  ;Störung
  ;BHKW
  ; 
  NICHT ($B29,E_ST_BHKW)
  MELEIN (&M33,1,$B29,S_ERR)
  ;EZ-HE00-11A-S10
  ; 
  ;Meldung Ein
  ;Fernquittierung
  ;Testomat
  ; 
  ;EZ-HE00-08A-X00
  ; 
  MELEIN (&M34,1,E_BM_FERNQU_TEST,S_ERR)
  ;Sammelstörung
  ;Wärmetauscher 2
  ; 
  ;EZ-HE00-10A-S50
  ; 
  MELEIN (&M35,1,E_ST_SAM_WT2,S_ERR)
  ;*****************************************************************
  ;*** Seite  15
  ;*****************************************************************
  ;Meldung Anford.
  ;Kondensatpumpen
  ;Aus
  ; 
  ;EZ-HE00-02A-B01
  ; 
  MELEIN (&M36,1,E_BM_KO_PU_AUS,S_ERR)
  ;Meldung Anford.
  ;Magnetventil
  ;Kondensat Auf
  ; 
  ;EZ-HE00-03A-B02
  ; 
  MELEIN (&M37,1,E_BM_MV_KO_AUF,S_ERR)
  ;Meldung Anford.
  ;Magnetventil
  ;Kondensat Zu
  ; 
  ;EZ-HE00-01A-B01
  ; 
  MELEIN (&M38,1,E_BM_MV_KO_ZU,S_ERR)
  ;Meldung
  ;Temperaturschalter
  ;Abschlammgefäß
  ; 
  ;EZ-HE00-04A-B01
  ; 
  MELEIN (&M39,1,E_BM_TEMP_ABSCHL,S_ERR)
  ;Rückmeldung Ein
  ;Kondensatpumpe 1
  ; 
  ;EZ-HE00-03A-X11
  ; 
  MELEIN (&M40,1,E_RM_KO_PU_1,S_ERR)
  ;Rückmeldung Ein
  ;Kondensatpumpe 2
  ; 
  ;EZ-HE00-03A-X12
  ; 
  MELEIN (&M41,1,E_RM_KO_PU_2,S_ERR)
  ;*****************************************************************
  ;*** Seite  16
  ;*****************************************************************
  MELEIN (&M42,1,E_BM_MV_SP1_AUF,$WSCRATCH)
  MELEIN (&M43,1,E_BM_MV_SP2_AUF,$WSCRATCH)
  MELEIN (&M44,1,E_BM_MV_SP3_AUF,$WSCRATCH)
  MELEIN (&M45,1,$HB2,$WSCRATCH)
  NICHT ($HB2,E_BM_DRUCKSCHALT)
  ;Hauptmagnetventil
  ;Speisewasserbe.
  ;EIN
  ; 
  ;EZ-HE00-02A-X01
  ; 
  ;MV von Enthaertung
  ;Speisewasserbe.
  ;EIN
  ; 
  ;EZ-HE00-02A-X04
  ; 
  ;MV von VE-Wasser
  ;Speisewasserbe.
  ;EIN
  ; 
  ;EZ-HE00-02A-X03
  ; 
  ;Druckschalter
  ;VE-Wasser
  ;> 4bar
  ; 
  ;EZ-HE00-02A-B03
  ; 
  ;*****************************************************************
  ;*** Seite  17
  ;*****************************************************************
  ENDE 
  ;*****************************************************************
  ;*** Seite  18
  ;*****************************************************************
  TASK (4,cycl,1000)
  ;Kopfsteuerung der
  ;Anlage:
  ;- virtuelle Störungen
  ;- Sammelstörung
  ;- Hauptstörung
  ;- Anlage Einschalten
  ; 
  ;Steuerungs und
  ;Regelungs-
  ;Funktionen der Anlage
  ;
  ; 
  ;*****************************************************************
  ;*** Seite  19
  ;*****************************************************************
  ODR2 (E_RM_KO_PU_1,E_RM_KO_PU_2,$B30)
  UNDMN (1,$B30,2,E_ST_PU_DO1,E_ST_TR_DO1,A_DO1_PU,$WSCRATCH)
  UNDMN (1,$B30,2,E_ST_RUEHR_DO1,E_ST_TR_DO1,A_DO1_RUEHR,
         $WSCRATCH)
  UNDMN (1,E_BM_MV_SP1_AUF,2,E_ST_PU_DO2,E_ST_TR_DO2,
         A_DO2_PU,$WSCRATCH)
  UNDMN (1,E_BM_MV_SP1_AUF,2,E_ST_RUEHR_DO2,E_ST_TR_DO2,
         A_DO2_RUEHR,$WSCRATCH)
  ;Dosierpumpen
  ;und Rührwerk
  ;einschalten nach
  ;Anforderung
  ;- Natriumsufid
  ;- Phosphat
  ; 
  ;*****************************************************************
  ;*** Seite  20
  ;*****************************************************************
  UND11 (E_BM_MV_SPEIS_Z,E_BM_MV_SPEIS_A,$B31)
  ODR2 (E_ST_TR_SPEISE,E_ST_HW_SPEISE,$B32)
  ODR2 ($B31,$B32,$B33)
  RSS (E_BM_MV_SPEIS_A,$B33,A_MV1_SPEIS,S_ERR)
  ODR2 (E_BM_KO_PU_AUS,$B32,$B34)
  RSS (E_BM_MV_SPEIS_Z,$B34,Z_1_KO_PU_EIN,S_ERR)
  NICHT (E_ST_TR_SPEISE,A_FREIG_SPEIS_PU)
  UNDMN (3,A_MV1_SPEIS,E_BM_DRUCKSCHALT,$B35,0,A_MV2_SPEIS,
         $WSCRATCH)
  UNDMN (1,A_MV1_SPEIS,1,E_BM_DRUCKSCHALT,A_MV3_SPEIS,$B35)
  ;Magnetventil
  ;Nachspeisung
  ; 
  ;*****************************************************************
  ;*** Seite  21
  ;*****************************************************************
  ODR2 (E_BM_MV_KO_ZU,K_0_STATUS,$B36)
  RSS (E_BM_MV_KO_AUF,$B36,$WSCRATCH,$B37)
  UND2 ($B37,Z_1_KO_PU_EIN,Z_KO_PU_EIN)
  ;Schaltung zum
  ;Verhindern der
  ;Trockenlaufschutz-
  ;Auslösung der
  ;Kondensatpumpen durch
  ;Anforderung des
  ;Speisewasserbehälters
  ; 
  ;*****************************************************************
  ;*** Seite  22
  ;*****************************************************************
  UHR (E_RM_KO_PU_1,$B45,D_LFT_KO_PU_2)
  VGLOH (D_LFT_KO_PU_2,$M46,$B38)
  ODRMN (1,E_ST_KO_PU_2,1,$B38,$B39,$WSCRATCH)
  UNDMN (3,$B39,$B43,Z_KO_PU_EIN,1,E_ST_KO_PU_1,
         Z_KO_ANF_PU_1,$B40)
  UHR (E_RM_KO_PU_2,$B44,D_LZT_KO_PU_1)
  VGLOH (D_LZT_KO_PU_1,$M47,$B41)
  ODRMN (1,E_ST_KO_PU_1,1,$B41,$B42,$WSCRATCH)
  UNDMN (3,$B40,$B42,Z_KO_PU_EIN,1,E_ST_KO_PU_2,
         Z_KO_ANF_PU_2,$B43)
  MOKY ($B38,$M48,$B44)
  ;Kopfsteuerung HEIZUNGS-
  ;Doppelpumpen
  ;- laufzeitabhängige
  ;  Umschaltung
  ;- Störungsabhängige
  ;  Umschaltung
  ;- Pumpe 1 = 36 Stunden
  ;- Pumpe 2 = 24 Stunden
  ;129.6K
  ;
  ; 
  MOKY ($B41,$M49,$B45)
  ;*****************************************************************
  ;*** Seite  23
  ;*****************************************************************
  UHR (K_1_STATUS,E_RM_KO_PU_1,D_ZT_KO_PU1_AUS)
  VGLOH (D_ZT_KO_PU1_AUS,$M50,$B46)
  MOKY ($B46,$M51,Z_KO_WA_PU_1)
  ;Pumpe
  ;Wartungslauf
  ;Hat die Pumpe länger
  ;als 48 Stunden gestanden
  ;wird sie für 10 SEK
  ;eingeschaltet.
  ; 
  ;*****************************************************************
  ;*** Seite  24
  ;*****************************************************************
  ODR2 (Z_KO_WA_PU_1,Z_KO_ANF_PU_1,$B47)
  UNDMN (1,$B47,2,E_ST_KO_PU_1,E_ST_TR_KO_PU,A_KO_PUMPE_1,
         $WSCRATCH)
  ;Doppelpumpe Pumpe 1
  ;- Störung Pumpe
  ;- Wartung Pumpe
  ;- Anforderung Pumpe 1
  ; 
  ;*****************************************************************
  ;*** Seite  25
  ;*****************************************************************
  UHR (K_1_STATUS,E_RM_KO_PU_2,D_ZT_KO_PU2_AUS)
  VGLOH (D_ZT_KO_PU2_AUS,$M52,$B48)
  MOKY ($B48,$M53,Z_KO_WA_PU_2)
  ;Pumpe
  ;Wartungslauf
  ;Hat die Pumpe länger
  ;als 48 Stunden gestanden
  ;wird sie für 10 SEK
  ;eingeschaltet.
  ; 
  ;*****************************************************************
  ;*** Seite  26
  ;*****************************************************************
  ODR2 (Z_KO_WA_PU_2,Z_KO_ANF_PU_2,$B49)
  UNDMN (1,$B49,2,E_ST_KO_PU_2,E_ST_TR_KO_PU,A_KO_PUMPE_2,
         $WSCRATCH)
  ;Doppelpumpe Pumpe 2
  ;- Störung Pumpe
  ;- Wartung Pumpe
  ;- Anforderung Pumpe 2
  ; 
  ;*****************************************************************
  ;*** Seite  27
  ;*****************************************************************
  ODR2 (E_BM_MV_KO_ZU,E_ST_HW_KODENSAT,$B50)
  RSS (E_BM_MV_KO_AUF,$B50,R_MV_KODENSAT,S_ERR)
  ;Kondensatbehälter
  ;- Magnetventil
  ;-
  ; 
  ;Bei Abnahme
  ;deaktivierung der
  ;Ansteuerung gefordert
  ; 
  ;*****************************************************************
  ;*** Seite  28
  ;*****************************************************************
  VVZ (E_BM_TEMP_ABSCHL,$M54,$M55,A_MV_ABSCHLAM_E)
  ;Abschlammbehälter
  ;- Magnetventil
  ; 
  ;*****************************************************************
  ;*** Seite  29
  ;*****************************************************************
  NOR2 (A_MV_KODENSAT,A_MV1_SPEIS,$B51)
  UND11 ($B51,E_ST_PU_ENTHAERT,A_PU_ENTHAERTUNG)
  VVZ (E_BM_FERNQU_TEST,$M56,$M57,$B52)
  MOKY ($B52,$M58,A_FERNQU_TEST_A)
  ;Enthärtungsanlage
  ;- Pumpe Enthärtung
  ;  einschalten von
  ;Magnetventil Speise
  ;und
  ;Magnetventil Kondensat
  ;zu
  ; 
  ;*****************************************************************
  ;*** Seite  30
  ;*****************************************************************
  ODRMN (8,E_ST_PU_DO1,E_ST_PU_DO2,E_ST_RUEHR_DO1,
         E_ST_RUEHR_DO2,E_ST_TR_DO1,E_ST_TR_DO2,E_ST_PU_DO3,
         E_ST_TR_DO3,0,$B53,$WSCRATCH)
  ODR2 ($B53,K_0_STATUS,A_SAM_ST_DO)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  31
  ;*****************************************************************
  ODRMN (8,E_ST_HW_SPEISE,E_ST_TR_SPEISE,E_ST_SPEISE_PU1,
         E_ST_SPEISE_PU2,K_0_STATUS,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,0,$B54,$WSCRATCH)
  ODR2 ($B54,K_0_STATUS,A_SAM_ST_SP)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  32
  ;*****************************************************************
  ODRMN (8,E_ST_HW_KODENSAT,E_ST_KO_PU_1,E_ST_KO_PU_2,
         E_ST_TR_KO_PU,K_0_STATUS,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,0,$B55,$WSCRATCH)
  ODR2 ($B55,K_0_STATUS,A_SAM_ST_KO)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  33
  ;*****************************************************************
  ODRMN (8,E_ST_SAM_HDD1,E_ST_SAM_HDD2,E_ST_HZ_PU1,
         E_ST_HZ_PU2,E_ST_HZ_PU3,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,0,$B56,$WSCRATCH)
  ODRMN (8,K_0_STATUS,K_0_STATUS,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,K_0_STATUS,K_0_STATUS,K_0_STATUS,0,$B57,
         $WSCRATCH)
  ODR2 ($B56,$B57,A_SAM_ST_ALLG)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  34
  ;*****************************************************************
  ODRMN (8,E_ST_PU_ENTHAERT,E_ST_TESTOMAT,K_0_STATUS,
         K_0_STATUS,K_0_STATUS,K_0_STATUS,K_0_STATUS,
         K_0_STATUS,0,$B58,$WSCRATCH)
  ODR2 ($B58,K_0_STATUS,A_SAM_ST_ENTH)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  35
  ;*****************************************************************
  ODRMN (8,A_SAM_ST_ALLG,A_SAM_ST_DO,A_SAM_ST_ENTH,
         A_SAM_ST_KO,A_SAM_ST_SP,E_ST_SAM_WT2,E_ST_SAM_WT1,
         K_0_STATUS,0,$B59,$WSCRATCH)
  ODRMN (8,K_0_STATUS,K_0_STATUS,E_ST_BHKW,E_ST_HZ_STROEM,
         E_ST_NOTAUS,E_ST_STEUERSICH,E_ST_PHASE,E_ST_BLITZ,0,
         $B60,$WSCRATCH)
  ODR2 ($B59,$B60,A_SAM_ST_US)
  ;Sammelstörung
  ;Tritt eine Störung auf
  ;die allgemein zur
  ;Anlage oder zu einem
  ;Bereich gehört wird die
  ;Störung gesetzt
  ; 
  ;*****************************************************************
  ;*** Seite  36
  ;*****************************************************************
  ENDE 
  ;*****************************************************************
  ;*** Seite  37
  ;*****************************************************************
  TASK (5,cycl,1000)
  ;Ausgeben von
  ;Prozeßdaten
  ;Digitale Werte
  ; 
  ;Ausgeben von
  ;Prozeßdaten
  ;Analoge Werte
  ; 
  ;*****************************************************************
  ;*** Seite  38
  ;*****************************************************************
  SETMEL (K_1_STATUS,1,R_SAM_ST_ABSCHL,&M59,S_ERR)
  ;EZ-HE00-04A-S50
  ; 
  SETMEL (K_1_STATUS,1,A_SAM_ST_DO,&M60,S_ERR)
  ;Sammelstörung
  ;Abschlammgefäß
  ; 
  ;EZ-HE00-01A-S50
  ; 
  ;Sammelstörung
  ;Dosieranlage
  ; 
  SETMEL (K_1_STATUS,1,A_SAM_ST_ENTH,&M61,S_ERR)
  ;EZ-HE00-08A-S50
  ; 
  SETMEL (K_1_STATUS,1,A_SAM_ST_KO,&M62,S_ERR)
  ;Sammelstörung
  ;Enthärtungsanlage
  ; 
  ;EZ-HE00-03A-S50
  ; 
  ;Sammelstörung
  ;Kondensatgefäß
  ; 
  SETMEL (K_1_STATUS,1,A_SAM_ST_SP,&M63,S_ERR)
  ;EZ-HE00-02A-S50
  ; 
  ;Sammelstörung
  ;Speisewasserbehält.
  ; 
  ;*****************************************************************
  ;*** Seite  39
  ;*****************************************************************
  ;EZ-HE00-01A-X01
  ; 
  NICHT (A_DO1_PU,$HB0)
  BEFAUS (1,$HB0,A_DO1_PU,$WZERO,$WZERO,&M64,S_ERR)
  ;Dosieranlage
  ;Pumpe
  ;Natriumsulfid
  ; 
  ;EZ-HE00-01A-X11
  ; 
  NICHT (A_DO1_RUEHR,$HB0)
  BEFAUS (1,$HB0,A_DO1_RUEHR,$WZERO,$WZERO,&M65,S_ERR)
  ;Dosieranlage
  ;Rührwerk
  ;Natriumsulfid
  ; 
  ;EZ-HE00-03A-X01
  ; 
  NICHT (A_MV_KODENSAT,$HB0)
  BEFAUS (1,$HB0,A_MV_KODENSAT,$WZERO,$WZERO,&M66,S_ERR)
  ;Magnetventil
  ;Kondensat
  ; 
  ;*****************************************************************
  ;*** Seite  40
  ;*****************************************************************
  ;EZ-HE00-01A-X02
  ; 
  NICHT (A_DO2_PU,$HB0)
  BEFAUS (1,$HB0,A_DO2_PU,$WZERO,$WZERO,&M67,S_ERR)
  ;Dosieranlage
  ;Pumpe
  ;Phosphat
  ; 
  ;EZ-HE00-01A-X12
  ; 
  NICHT (A_DO2_RUEHR,$HB0)
  BEFAUS (1,$HB0,A_DO2_RUEHR,$WZERO,$WZERO,&M68,S_ERR)
  ;Dosieranlage
  ;Rührwerk
  ;Phosphat
  ; 
  ;EZ-HE00-02A-X01
  ; 
  NICHT (A_MV1_SPEIS,$HB0)
  BEFAUS (1,$HB0,A_MV1_SPEIS,$WZERO,$WZERO,&M69,S_ERR)
  ;Magnetventil
  ;Speisewasser
  ; 
  ;*****************************************************************
  ;*** Seite  41
  ;*****************************************************************
  ;EZ-HE00-02A-X02
  ; 
  NICHT (A_FREIG_SPEIS_PU,$HB0)
  BEFAUS (1,$HB0,A_FREIG_SPEIS_PU,$WZERO,$WZERO,&M70,S_ERR)
  ;Freigabe
  ;Speisewasserpumpen
  ; 
  ;EZ-HE00-03A-X11
  ; 
  NICHT (A_KO_PUMPE_1,$HB0)
  BEFAUS (1,$HB0,A_KO_PUMPE_1,$WZERO,$WZERO,&M71,S_ERR)
  ;Kondensatpumpe 1
  ; 
  ;EZ-HE00-03A-X12
  ; 
  NICHT (A_KO_PUMPE_2,$HB0)
  BEFAUS (1,$HB0,A_KO_PUMPE_2,$WZERO,$WZERO,&M72,S_ERR)
  ;Kondensatpumpe 2
  ; 
  ;*****************************************************************
  ;*** Seite  42
  ;*****************************************************************
  ;EZ-HE00-04A-X01
  ; 
  NICHT (A_MV_ABSCHLAM_E,$HB0)
  BEFAUS (1,$HB0,A_MV_ABSCHLAM_E,$WZERO,$WZERO,&M73,S_ERR)
  ;Magnetventil
  ;Abschlammgefäß
  ; 
  ;EZ-HE00-08A-X01
  ; 
  NICHT (A_PU_ENTHAERTUNG,$HB0)
  BEFAUS (1,$HB0,A_PU_ENTHAERTUNG,$WZERO,$WZERO,&M74,S_ERR)
  ;Enthärtungspumpe
  ; 
  ;*****************************************************************
  ;*** Seite  43
  ;*****************************************************************
  ;EZ-HE00-08A-X00
  ; 
  BEFAUS (1,A_FERNQU_TEST_A,$WZERO,$WZERO,$WZERO,&M75,S_ERR)
  ;Fernquittierung
  ;Testomat
  ;Zurückschalten
  ; 
  ;EZ-AS08-00A-X01
  ; 
  NICHT (A_SAM_ST_US,$HB0)
  BEFAUS (1,$HB0,A_SAM_ST_US,$WZERO,$WZERO,&M76,S_ERR)
  ;Sammelstörung
  ;Unterstation US00.08
  ; 
  ;*****************************************************************
  ;*** Seite  44
  ;*****************************************************************
  ;EZ-HE00-02A-X04
  ; 
  NICHT (A_MV2_SPEIS,$HB0)
  BEFAUS (1,$HB0,A_MV2_SPEIS,$WZERO,$WZERO,&M77,S_ERR)
  ;Magnetventil
  ;Enthaertung
  ;Speisewasser
  ; 
  ;EZ-HE00-02A-X03
  ; 
  NICHT (A_MV3_SPEIS,$HB0)
  BEFAUS (1,$HB0,A_MV3_SPEIS,$WZERO,$WZERO,&M78,S_ERR)
  ;Magnetventil
  ;VE-Wasser
  ;Speisewasser
  ; 
  ;*****************************************************************
  ;*** Seite  45
  ;*****************************************************************
  ENDE 
  ENDMODUL 
