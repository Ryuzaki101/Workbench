  ;*****************************************************************
  ;*** Projekt Beginn
  ;*** Dateiname      : MPI60509.GPS
  ;*** Projektname    : 
  ;*** Projektnummer  : 
  ;*** Bearbeiter     : 
  ;*** Prüfer         : 
  ;*** Line Nummer    : 6
  ;*** User Number    : 5
  ;*** Modul Typ      : ar20
  ;*** Feldbus Nummer : 9
  ;*****************************************************************
  MODUL (@TYPE@, @FILEDBUS@)
  WordV  Anl-aus
  WordV  Zuluefter-i-ein
  WordV  Außentemp<10
  FloatV SG-ZL-T-Regler
  WordV  Abluefter-gestoe
  FloatK SW-min-RL-Temp (12.00)
  FloatV Seq-kuehlen
  WordV  Abluefter-einsch
  FloatV ZL-Temp
  WordK  K0 (0)
  WordV  Entriegeln
  FloatV Kuehl-Vent-Stell
  WordV  Zuluefter-einsch
  WordV  Anl-ein-2
  FloatV AL-Temp
  FloatV Erh-Vent-Stellun
  WordV  vorgespuelt
  FloatV Stellsign-Kue-Ve
  WordV  AUL-Klap-offen
  FloatV Aussentemp
  WordK  Anl-ein (0)
  WordV  Unterspannung-NN
  WordV  Erh-RL-Temp>40
  FloatV Erh-RL-Temp
  WordV  Zuluefter-gestoe
  WordV  Anl-ein-1
  WordV  Erh-Pump-ein
  WordV  Frost
  WordV  Abl-Keilr-geriss
  WordV  FOL-Klap-offen
  WordV  Abl-Rep-Schalter
  WordV  Zuluefter-Unterl
  FloatV Stellsign-Erh-Ve
  WordV  Abl-Diff-Dr-vorh
  WordV  Entr-Befehl
  WordV  Zul-Rep-Schalter
  FloatV Seq-heizen
  WordK  K1 (0)
  FloatV SG-AL-T-Regler
  WordV  vorspuelen
  WordV  Entr-Taster
  WordV  Abluefter-i-ein
  FloatK SW-AL-Temp (22.00)
  WordV  Anl-ein-3
  FloatK K12 (12.00)
  WordK  $WONE (1)
  WordK  $WZERO (0)
  FloatK $M0 (4.00)
  FloatK $M1 (0.00)
  WordV  $B1
  WordV  $B2
  WordV  $HB0
  FloatK $M2 (20.00)
  FloatK $M3 (0.00)
  WordV  $B3
  FloatK $M4 (0.00)
  FloatK $M5 (5.00)
  WordV  $B4
  WordV  $B5
  WordV  $B6
  WordV  $WSCRATCH
  WordV  $B7
  WordV  $B8
  IPAMB &M6 (218,1)
  IPAMB &M7 (218,3)
  IPAMB &M8 (97,2)
  WordV  $HB2
  IPAMB &M9 (97,3)
  IPAMB &M10 (97,14)
  IPAMB &M11 (98,11)
  IPAMB &M12 (233,2)
  IPAMB &M13 (233,3)
  IPAMB &M14 (97,6)
  IPAMB &M15 (97,7)
  IPAMB &M16 (97,15)
  IPAMB &M17 (98,14)
  IPAMB &M18 (97,11)
  IPAMB &M19 (98,7)
  IPAMB &M20 (0,0)
  IPAMB &M27 (34,11)
  IPAMB &M28 (0,11)
  IPAMB &M29 (0,14)
  IPAAW &M30 (5)
  FloatK $M31 (11.00)
  FloatK $M32 (1.00)
  WordV  $HB3
  WordV  $B9
  FloatK $M33 (5.00)
  FloatK $M34 (5.00)
  IPAAW &M35 (211)
  IPAAW &M36 (210)
  IPAAW &M37 (212)
  FloatK $M38 (40.00)
  FloatK $M39 (2.00)
  WordV  $B10
  FloatK $M40 (5.00)
  FloatK $M41 (5.00)
  IPAAW &M42 (213)
  IPAAW &M43 (214)
  IPAAW &M44 (220)
  FloatV $F1
  FloatK $M45 (28.00)
  FloatK $M46 (18.00)
  FloatV $F2
  FloatK $M47 (10.00)
  WordV  $B11
  WordK  $M48 (1)
  IPAAW &M50 (222)
  FloatV $F3
  FloatK $M51 (16.00)
  FloatK $M52 (10.00)
  FloatV $F4
  FloatK $M53 (10.00)
  WordV  $B12
  WordK  $M54 (1)
  WordV  $B13
  WordV  $B14
  FloatK $M56 (10.00)
  FloatK $M57 (0.00)
  WordV  $B15
  WordV  $HB1
  WordV  $B16
  FloatK $M58 (2.00)
  FloatK $M59 (0.00)
  WordV  $B17
  FloatK $M60 (5.00)
  FloatK $M61 (0.00)
  WordV  $B18
  WordV  $B19
  FloatK $M62 (30.00)
  FloatK $M63 (0.00)
  WordV  $B20
  WordK  $M64 (1)
  IPAMB &M65 (218,0)
  WordV  $HB4
  FloatK $FZERO (0.00)
  FloatK $M66 (51.00)
  FloatK $M67 (50.00)
  FloatK $M68 (2.00)
  FloatK $M69 (0.00)
  WordV  $B21
  FloatK $M70 (0.00)
  FloatV $F5
  FloatV $F6
  FloatK $M71 (100.00)
  FloatV $F7
  FloatK $M72 (0.00)
  FloatK $M73 (0.00)
  WordV  $B22
  FloatK $M74 (172800.00)
  FloatK $M75 (0.00)
  WordV  $B23
  FloatK $M76 (300.00)
  WordV  $B24
  FloatK $M77 (5.00)
  FloatK $M78 (2.00)
  WordV  $B25
  FloatK $M79 (10.00)
  FloatK $M80 (300.00)
  WordV  $B26
  WordV  $B27
  WordV  $B28
  IPAMB &M81 (98,5)
  FloatV $F8
  FloatV $F9
  FloatK $M82 (10.00)
  WordV  $B29
  WordV  $B30
  FloatV $F10
  FloatK $M83 (180.00)
  WordV  $B31
  WordV  $B32
  WordK  $M84 (1)
  IPAMB &M85 (218,4)
  FloatV $F11
  FloatV $F12
  FloatK $M86 (10.00)
  WordV  $B33
  WordV  $B34
  FloatV $F13
  FloatK $M87 (180.00)
  WordV  $B35
  WordV  $B36
  WordK  $M88 (1)
  IPAMB &M89 (218,5)
  IPAMB &M90 (98,1)
  IPAMB &M91 (97,1)
  IPAMB &M92 (97,5)
  WordK  $M93 (1)
  IPAAW &M94 (215)
  WordK  $M95 (1)
  IPAAW &M96 (216)
  WordV  $B37
  WordK  $M97 (1)
  IPAMB &M98 (218,2)
  WordV  $B38
  WordV  $B42
  WordV  $B39
  WordV  $B40
  WordV  $B43
  WordV  $B41
  ;*****************************************************************
  ;*** Seite   1
  ;*****************************************************************
  TASK (1,init)
  ;Verwendete Versionen:
  ;CAE2000 : 6.02
  ;FMICON  : 4.21
  ; 
  ;Die Zeichnungs-Nr.
  ;für diese Unterlagen
  ;lautet:
  ;D1 A6 AFB0001
  ;Sie wird der Einfach-
  ;heit halber nicht mehr
  ;auf jedem Blatt
  ;erscheinen.
  ; 
  ;Kunde:   MPI Göttingen
  ;Projekt: Sanierung
  ;         Turm 6
  ;Anlage:  RLT SUG
  ; 
  ;*****************************************************************
  ;*** Seite   2
  ;*****************************************************************
  BTRA (Anl-ein,Anl-ein-1)
  ENDE 
  TASK (2,cycl,1000)
  NICHT ($WZERO,K1)
  ;*****************************************************************
  ;*** Seite   3
  ;*****************************************************************
  VVZ (Anl-ein-1,$M0,$M1,$B1)
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  UND2 ($B1,$B2,Anl-ein-2)
  NICHT ($B1,$B2)
  ;1BLOCK BLOCKER 1 ZYKLUSZ
  ; 
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ;*****************************************************************
  ;*** Seite   4
  ;*****************************************************************
  NICHT (Unterspannung-NN,$HB0)
  VVZ ($HB0,$M2,$M3,$B3)
  VVZ (Anl-ein,$M4,$M5,$B4)
  UND11 ($B4,$B3,$B5)
  RSS ($B5,Anl-ein,$B6,$WSCRATCH)
  UND2 ($B6,$B3,$B7)
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  UND2 ($B7,$B8,Anl-ein-3)
  NICHT ($B7,$B8)
  ;1BLOCK BLOCKER 1 ZYKLUSZ
  ; 
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ;*****************************************************************
  ;*** Seite   5
  ;*****************************************************************
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  MELEIN (&M6,1,Anl-aus,$WSCRATCH)
  MELEIN (&M7,1,Anl-ein,$WSCRATCH)
  MELEIN (&M8,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Zuluefter-gestoe)
  MELEIN (&M9,1,Zuluefter-i-ein,$WSCRATCH)
  MELEIN (&M10,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Zuluefter-Unterl)
  MELEIN (&M11,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Zul-Rep-Schalter)
  MELEIN (&M12,1,AUL-Klap-offen,$WSCRATCH)
  MELEIN (&M13,1,FOL-Klap-offen,$WSCRATCH)
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  MELEIN (&M14,1,Abluefter-gestoe,$WSCRATCH)
  MELEIN (&M15,1,Abluefter-i-ein,$WSCRATCH)
  MELEIN (&M16,1,Abl-Diff-Dr-vorh,$WSCRATCH)
  MELEIN (&M17,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Abl-Rep-Schalter)
  MELEIN (&M18,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Frost)
  MELEIN (&M19,1,Erh-Pump-ein,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ;*****************************************************************
  ;*** Seite   6
  ;*****************************************************************
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M20,1,$WSCRATCH,$WSCRATCH)
  MELEIN (&M27,1,$HB2,$WSCRATCH)
  NICHT ($HB2,Unterspannung-NN)
  MELEIN (&M28,1,Entr-Befehl,$WSCRATCH)
  MELEIN (&M29,1,Entr-Taster,$WSCRATCH)
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ODR2 (Entr-Befehl,Entr-Taster,Entriegeln)
  ;*****************************************************************
  ;*** Seite   7
  ;*****************************************************************
  ANEIN (&M30,Aussentemp,$WSCRATCH)
  VGLEH (Aussentemp,$M31,$M32,$HB3)
  NICHT ($HB3,$B9)
  VVZ ($B9,$M33,$M34,Außentemp<10)
  ANEIN (&M35,AL-Temp,$WSCRATCH)
  ANEIN (&M36,ZL-Temp,$WSCRATCH)
  ANEIN (&M37,Erh-RL-Temp,$WSCRATCH)
  VGLEH (Erh-RL-Temp,$M38,$M39,$B10)
  VVZ ($B10,$M40,$M41,Erh-RL-Temp>40)
  ;ZUL-Temp. nach WRG
  ; 
  ;*****************************************************************
  ;*** Seite   8
  ;*****************************************************************
  ANEIN (&M42,Erh-Vent-Stellun,$WSCRATCH)
  ANEIN (&M43,Kuehl-Vent-Stell,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite   9
  ;*****************************************************************
  ANEIN (&M44,$F1,$WSCRATCH)
  LIMIT ($F1,$M45,$M46,$F2)
  NICHT (K0,$HB0)
  MOKY ($HB0,$M47,$B11)
  AWT ($B11,$F2,SW-AL-Temp,SW-AL-Temp)
  ANAUS (SW-AL-Temp,$M48,&M44,$WSCRATCH)
  ANEIN (&M50,$F3,$WSCRATCH)
  LIMIT ($F3,$M51,$M52,$F4)
  NICHT (K0,$HB0)
  MOKY ($HB0,$M53,$B12)
  AWT ($B12,$F4,SW-min-RL-Temp,SW-min-RL-Temp)
  ;Sollwert-Erinnerung
  ;Variablen im Editor auf
  ;0 setzen
  ; 
  ANAUS (SW-min-RL-Temp,$M54,&M50,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  10
  ;*****************************************************************
  ODRMN (1,Erh-RL-Temp>40,1,Außentemp<10,$B13,$WSCRATCH)
  UND2 ($B13,Anl-ein,$B14)
  VVZ ($B14,$M56,$M57,$B15)
  NICHT (Anl-ein,$HB1)
  RSS ($B15,$HB1,vorgespuelt,$WSCRATCH)
  UND11 (Anl-ein,vorgespuelt,vorspuelen)
  ;*****************************************************************
  ;*** Seite  11
  ;*****************************************************************
  UNDMN (3,AUL-Klap-offen,FOL-Klap-offen,vorgespuelt,0,$B16,
         $WSCRATCH)
  VVZ ($B16,$M58,$M59,Zuluefter-einsch)
  UND2 (Zuluefter-einsch,Zuluefter-i-ein,$B17)
  VVZ ($B17,$M60,$M61,Abluefter-einsch)
  ;*****************************************************************
  ;*** Seite  12
  ;*****************************************************************
  XOR2 (Abluefter-i-ein,Abl-Diff-Dr-vorh,$B18)
  UND2 (Abluefter-i-ein,$B18,$B19)
  VVZ ($B19,$M62,$M63,$B20)
  RSS ($B20,Entriegeln,Abl-Keilr-geriss,$WSCRATCH)
  SETMEL ($M64,1,Abl-Keilr-geriss,&M65,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  13
  ;*****************************************************************
  NICHT ($WONE,$WSCRATCH)
  NICHT (vorgespuelt,$HB4)
  REGLER (29,$WONE,$WZERO,$FZERO,SG-AL-T-Regler,$WSCRATCH)
  REGLER (30,$WONE,$HB4,$M66,SG-ZL-T-Regler,$WSCRATCH)
  SEQ2 (SG-ZL-T-Regler,$M67,$M68,$M69,Seq-kuehlen,Seq-heizen,
        $WSCRATCH)
  NAND2 (Anl-ein,Außentemp<10,$B21)
  NICHT ($WONE,$WSCRATCH)
  REGLER (31,$WONE,$B21,$M70,$F5,$WSCRATCH)
  MAX (2,Seq-heizen,$F5,$F6)
  AWT (vorspuelen,$F6,$M71,$F7)
  ;AL-ZL-Kaskade
  ;V
  ; 
  ;min Erh.-RL-Temp.
  ; 
  AWT (Anl-ein,$M72,$F7,Stellsign-Erh-Ve)
  ;*****************************************************************
  ;*** Seite  14
  ;*****************************************************************
  AWT (vorgespuelt,$M73,Seq-kuehlen,Stellsign-Kue-Ve)
  ;*****************************************************************
  ;*** Seite  15
  ;*****************************************************************
  UNDMN (0,2,Erh-Pump-ein,$B24,$B22,$WSCRATCH)
  VVZ ($B22,$M74,$M75,$B23)
  MOKY ($B23,$M76,$B24)
  VGLEH (Stellsign-Erh-Ve,$M77,$M78,$B25)
  VVZ ($B25,$M79,$M80,$B26)
  ODR2 ($B24,$B26,$B27)
  UND11 ($B27,K0,$B28)
  NICHT ($B28,$HB0)
  BEFAUS (1,$HB0,$B28,$WZERO,$WZERO,&M81,$WSCRATCH)
  ;48 h = 172.800 sec
  ; 
  ;*****************************************************************
  ;*** Seite  16
  ;*****************************************************************
  SUB2 (Stellsign-Erh-Ve,Erh-Vent-Stellun,$F8)
  ABSWER ($F8,$F9)
  VGLOH ($F9,$M82,$B29)
  UND11 ($B29,Entriegeln,$B30)
  NICHT ($WONE,$WSCRATCH)
  NICHT ($B30,$HB1)
  UHR ($WONE,$HB1,$F10)
  VGLOH ($F10,$M83,$B31)
  RSS ($B31,Entriegeln,$B32,$WSCRATCH)
  ;Ventillaufüberwachung:
  ;Beträgt die Differenz
  ;zwischen Soll- und Ist-
  ;wert des Ventils länger
  ;als 3min mehr als 10,
  ;wird die fiktive
  ;Störmeldung für dieses
  ;Ventil gesetzt. Die
  ;Anlage selbst läuft
  ;weiter.
  ; 
  SETMEL ($M84,1,$B32,&M85,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  17
  ;*****************************************************************
  SUB2 (Stellsign-Kue-Ve,Kuehl-Vent-Stell,$F11)
  ABSWER ($F11,$F12)
  VGLOH ($F12,$M86,$B33)
  UND11 ($B33,Entriegeln,$B34)
  NICHT ($WONE,$WSCRATCH)
  NICHT ($B34,$HB1)
  UHR ($WONE,$HB1,$F13)
  VGLOH ($F13,$M87,$B35)
  RSS ($B35,Entriegeln,$B36,$WSCRATCH)
  ;Ventillaufüberwachung:
  ;Beträgt die Differenz
  ;zwischen Soll- und Ist-
  ;wert des Ventils länger
  ;als 3min mehr als 10,
  ;wird die fiktive
  ;Störmeldung für dieses
  ;Ventil gesetzt. Die
  ;Anlage selbst läuft
  ;weiter.
  ; 
  SETMEL ($M88,1,$B36,&M89,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  18
  ;*****************************************************************
  NICHT (vorgespuelt,$HB0)
  BEFAUS (1,$HB0,vorgespuelt,$WZERO,$WZERO,&M90,$WSCRATCH)
  ;Aul-/Fortluftklapp
  ;B
  ; 
  NICHT (Zuluefter-einsch,$HB0)
  BEFAUS (1,$HB0,Zuluefter-einsch,$WZERO,$WZERO,&M91,
          $WSCRATCH)
  NICHT (Abluefter-einsch,$HB0)
  BEFAUS (1,$HB0,Abluefter-einsch,$WZERO,$WZERO,&M92,
          $WSCRATCH)
  ;Zulüfter
  ; 
  ;Ablüfter
  ; 
  ;*****************************************************************
  ;*** Seite  19
  ;*****************************************************************
  ANAUS (Stellsign-Erh-Ve,$M93,&M94,$WSCRATCH)
  ANAUS (Stellsign-Kue-Ve,$M95,&M96,$WSCRATCH)
  ;*****************************************************************
  ;*** Seite  20
  ;*****************************************************************
  ODRMN (7,Zuluefter-gestoe,Zuluefter-Unterl,
         Abluefter-gestoe,Abl-Keilr-geriss,Frost,
         Zul-Rep-Schalter,Abl-Rep-Schalter,0,$B37,$WSCRATCH)
  SETMEL ($M97,1,$B37,&M98,$WSCRATCH)
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  UND2 (Anl-aus,$B42,$B38)
  NICHT (Anl-aus,$B42)
  ;1BLOCK BLOCKER 1 ZYKLUSZ
  ; 
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ODR2 ($B38,$B37,$B39)
  ;*****************************************************************
  ;*** Macro Beginn
  ;*****************************************************************
  UND2 (Anl-ein,$B43,$B40)
  NICHT (Anl-ein,$B43)
  ;1BLOCK BLOCKER 1 ZYKLUSZ
  ; 
  ;*****************************************************************
  ;*** Macro  Ende
  ;*****************************************************************
  ODRMN (3,Anl-ein-2,Anl-ein-3,$B40,0,$B41,$WSCRATCH)
  BEFAUS (1,$B39,$B41,$WZERO,$WZERO,&M6,$WSCRATCH)
  ENDE 
  ENDMODUL 
